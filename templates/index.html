<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTF.ai - Connecting Customers to Farmers</title>
    <style>
        /* Google Fonts Import - must be before all other rules */
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;0,900;1,400;1,700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@400;500;600;700&family=Noto+Sans+Telugu:wght@400;500;600;700&display=swap');

        /* ==========================================
           CLASSICAL-MODERN DESIGN SYSTEM v3.0
           Primary: #30561D (Forest Green) + White
           Philosophy: Timeless Elegance + Contemporary Function
        ========================================== */

        /* CSS Custom Properties */
        :root {
            /* Brand Colors */
            --primary-green: #30561D;
            --primary-green-light: #3d6e26;
            --primary-green-dark: #234110;
            --primary-green-extra-dark: #1a2f0c;
            --accent-gold: #d4af37;
            --accent-gold-light: #e8c965;

            /* Neutral Palette */
            --white: #ffffff;
            --cream: #fdfcf9;
            --light-gray: #f5f5f5;
            --gray: #e0e0e0;
            --dark-gray: #666666;
            --charcoal: #2c2c2c;

            /* Spacing Scale (Classical Proportions) */
            --space-xs: 8px;
            --space-sm: 16px;
            --space-md: 24px;
            --space-lg: 40px;
            --space-xl: 64px;
            --space-2xl: 96px;

            /* Typography Scale */
            --font-display: 'Playfair Display', 'Georgia', serif;
            --font-body: 'Times New Roman', Times, serif;
            --font-accent: 'Times New Roman', Times, serif;

            /* Shadow System */
            --shadow-sm: 0 2px 8px rgba(48, 86, 29, 0.08);
            --shadow-md: 0 4px 16px rgba(48, 86, 29, 0.12);
            --shadow-lg: 0 8px 32px rgba(48, 86, 29, 0.16);
            --shadow-xl: 0 16px 48px rgba(48, 86, 29, 0.24);

            /* Border Radius */
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 20px;
            --radius-xl: 32px;
            --radius-full: 9999px;

            /* Transitions */
            --transition-fast: 200ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-elegant: 600ms cubic-bezier(0.645, 0.045, 0.355, 1);
        }

        /* Fonts loaded via @import at top of style block */

        /* Global Resets & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
            overflow-x: hidden;
        }

        body {
            font-family: var(--font-body), 'Noto Sans Tamil', 'Noto Sans Telugu', serif;
            font-weight: 400;
            font-size: 16px;
            line-height: 1.6;
            color: var(--charcoal);
            background: var(--cream);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Tamil & Telugu Text Rendering */
        [lang="ta"], [lang="ta"] * {
            font-family: 'Noto Sans Tamil', 'Tamil MN', 'Latha', sans-serif !important;
            line-height: 1.8 !important;
        }

        [lang="te"], [lang="te"] * {
            font-family: 'Noto Sans Telugu', 'Telugu MN', 'Gautami', sans-serif !important;
            line-height: 1.8 !important;
        }

        /* Google Translate wrapper text */
        body.translated-ltr,
        body.translated-rtl {
            font-family: var(--font-body), 'Noto Sans Tamil', 'Noto Sans Telugu', serif !important;
        }

        /* Form elements inherit Times New Roman */
        input, textarea, select, button {
            font-family: var(--font-body);
        }

        label {
            font-family: var(--font-body);
            font-weight: 500;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--light-gray);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-green);
            border-radius: 6px;
            border: 3px solid var(--light-gray);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-green-dark);
        }

        /* Selection */
        ::selection {
            background: var(--primary-green);
            color: var(--white);
        }

        /* ==========================================
           TYPOGRAPHY SYSTEM
        ========================================== */

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-body);
            font-weight: 700;
            line-height: 1.2;
            color: var(--primary-green-extra-dark);
            margin-bottom: var(--space-md);
            letter-spacing: 0.02em;
        }

        h1 {
            font-size: clamp(2.125rem, 5vw, 3rem);
            font-weight: 700;
            letter-spacing: 0.02em;
        }

        h2 {
            font-size: clamp(1.75rem, 4vw, 2.25rem);
            font-weight: 600;
            letter-spacing: 0.02em;
        }

        h3 {
            font-size: clamp(1.25rem, 3vw, 1.5rem);
            font-weight: 600;
        }

        p {
            font-family: var(--font-body);
            font-weight: 400;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: var(--space-sm);
            color: var(--dark-gray);
        }

        .text-gradient {
            background: linear-gradient(135deg, var(--primary-green), var(--primary-green-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ==========================================
           HERO TITLE â€” BOLD TYPOGRAPHY DESIGN
           Matches: image reference with textured FARMERS
        ========================================== */
        .hero-headline {
            margin-bottom: var(--space-md);
            line-height: 1;
            position: relative;
        }

        /* Line 1: CONNECTING â€” biggest, blackest, boldest */
        .hero-headline .hl-connecting {
            display: block;
            font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
            font-size: clamp(2.6rem, 5.8vw, 4rem);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            color: var(--charcoal);
            line-height: 1.05;
            text-shadow: 0 2px 4px rgba(0,0,0,0.08);
            animation: hlReveal 0.65s cubic-bezier(0.22, 1, 0.36, 1) forwards;
            opacity: 0;
        }

        /* Line 2: CUSTOMERS DIRECTLY â€” slightly lighter weight */
        .hero-headline .hl-customers {
            display: block;
            font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
            font-size: clamp(1.5rem, 3.5vw, 2.35rem);
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #3a3a3a;
            line-height: 1.15;
            margin-top: 4px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.06);
            animation: hlReveal 0.65s cubic-bezier(0.22, 1, 0.36, 1) 0.1s forwards;
            opacity: 0;
        }

        /* Line 3: wrapper for "to" + "FARMERS" + icon */
        .hero-headline .hl-farmers-line {
            display: flex;
            align-items: baseline;
            gap: 10px;
            margin-top: 0;
            flex-wrap: nowrap;
            animation: hlReveal 0.65s cubic-bezier(0.22, 1, 0.36, 1) 0.2s forwards;
            opacity: 0;
        }

        /* "to" â€” italic serif contrast */
        .hero-headline .hl-to {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: clamp(1.8rem, 4vw, 2.8rem);
            font-weight: 400;
            font-style: italic;
            color: #3a3a3a;
            line-height: 1;
            position: relative;
            top: 2px;
        }

        /* FARMERS â€” agricultural texture fill via SVG data-uri gradient  */
        .hero-headline .hl-farmers {
            font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif;
            font-size: clamp(2.6rem, 5.8vw, 4rem);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.03em;
            line-height: 1;
            position: relative;
            /* Multi-layer background: gradient patches simulating farm textures */
            background:
                linear-gradient(135deg, #2d5016 0%, #1a3a0a 8%),       /* dark soil/field */
                linear-gradient(135deg, #e67e22 8%, #d35400 16%),       /* harvest orange */
                linear-gradient(135deg, #1a3a0a 16%, #27ae60 28%),      /* green crops */
                linear-gradient(135deg, #8B6914 28%, #D4A017 36%),      /* wheat gold */
                linear-gradient(135deg, #2ecc71 36%, #1a8c42 48%),      /* fresh vegetables */
                linear-gradient(135deg, #5D4037 48%, #3E2723 56%),      /* brown earth */
                linear-gradient(135deg, #e67e22 56%, #f39c12 68%),      /* sunlight */
                linear-gradient(135deg, #2d5016 68%, #3d6e26 82%),      /* green field */
                linear-gradient(135deg, #1B5E20 82%, #388E3C 100%);     /* fresh greens */
            background-size:
                8% 100%, 8% 100%, 12% 100%, 8% 100%, 12% 100%,
                8% 100%, 12% 100%, 14% 100%, 18% 100%;
            background-position:
                0% 0%, 8% 0%, 16% 0%, 28% 0%, 36% 0%,
                48% 0%, 56% 0%, 68% 0%, 82% 0%;
            background-repeat: no-repeat;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 3px rgba(0,0,0,0.15));
        }

        /* Green basket/cart SVG icon */
        .hero-headline .hl-icon {
            display: inline-flex;
            align-items: flex-end;
            width: clamp(28px, 3.5vw, 44px);
            height: clamp(28px, 3.5vw, 44px);
            margin-left: 4px;
            flex-shrink: 0;
            animation: hlReveal 0.65s cubic-bezier(0.22, 1, 0.36, 1) 0.35s forwards;
            opacity: 0;
            position: relative;
            top: -2px;
        }

        .hero-headline .hl-icon svg {
            width: 100%;
            height: 100%;
        }

        /* Gold + green accent bar */
        .hero-headline .hl-accent {
            display: flex;
            align-items: center;
            gap: 0;
            margin-top: 16px;
            height: 3px;
            max-width: 300px;
            animation: hlBarGrow 0.7s ease-out 0.45s forwards;
            opacity: 0;
            transform-origin: left center;
        }

        .hero-headline .hl-accent .bar-gold {
            flex: 3;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-gold), var(--accent-gold-light));
            border-radius: 2px 0 0 2px;
        }

        .hero-headline .hl-accent .bar-green {
            flex: 1;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-green), var(--primary-green-light));
            border-radius: 0 2px 2px 0;
        }

        /* Keyframes */
        @keyframes hlReveal {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        @keyframes hlBarGrow {
            0% { opacity: 0; transform: scaleX(0); }
            100% { opacity: 1; transform: scaleX(1); }
        }

        /* ==========================================
           HEADER & NAVIGATION
        ========================================== */

        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: var(--white);
            box-shadow: var(--shadow-sm);
            z-index: 1000;
            transition: all var(--transition-base);
        }

        header.scrolled {
            box-shadow: var(--shadow-md);
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-sm) var(--space-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: var(--space-xs);
            transition: transform var(--transition-base);
            flex-shrink: 0;
            padding-left: 4px;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo-img {
            height: 85px;
            width: auto;
            object-fit: contain;
            display: block;
        }

        /* Hamburger Menu Button */
        .hamburger-btn {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            z-index: 1001;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 5px;
        }

        .hamburger-btn span {
            display: block;
            width: 26px;
            height: 3px;
            background: var(--primary-green);
            border-radius: 3px;
            transition: all var(--transition-base);
        }

        .hamburger-btn.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 6px);
        }

        .hamburger-btn.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger-btn.active span:nth-child(3) {
            transform: rotate(-45deg) translate(5px, -6px);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: var(--space-lg);
            align-items: center;
        }

        nav ul li a {
            color: var(--charcoal);
            text-decoration: none;
            font-family: var(--font-body);
            font-weight: 500;
            font-size: 0.95rem;
            letter-spacing: 0.03em;
            position: relative;
            padding: var(--space-xs) 0;
            transition: color var(--transition-base);
        }

        nav ul li a.notranslate {
            translate: no !important;
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-green);
            transition: width var(--transition-elegant);
        }

        nav ul li a:hover {
            color: var(--primary-green);
        }

        nav ul li a:hover::after {
            width: 100%;
        }

        /* ==========================================
           BUTTONS
        ========================================== */

        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-xs);
            padding: 14px 32px;
            font-family: var(--font-body);
            font-size: 0.95rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-decoration: none;
            border-radius: var(--radius-full);
            transition: all var(--transition-base);
            cursor: pointer;
            border: none;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width var(--transition-elegant), height var(--transition-elegant);
            z-index: -1;
        }

        .btn:hover::before {
            width: 400px;
            height: 400px;
        }

        .btn-primary {
            background: var(--primary-green);
            color: var(--white);
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            background: var(--primary-green-dark);
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        .btn-outline:hover {
            background: var(--primary-green);
            color: var(--white);
            transform: translateY(-2px);
        }

        /* ==========================================
           HERO SECTION
        ========================================== */

        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: var(--space-2xl) var(--space-lg);
            background: linear-gradient(135deg, var(--cream) 0%, var(--white) 100%);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 80%;
            height: 150%;
            background: radial-gradient(circle, rgba(48, 86, 29, 0.03) 0%, transparent 70%);
            pointer-events: none;
        }

        .hero-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-xl);
            align-items: center;
        }

        .hero-content {
            z-index: 2;
        }

        .hero-subtitle {
            font-family: var(--font-body);
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            color: var(--primary-green);
            margin-bottom: var(--space-sm);
            display: flex;
            align-items: center;
            gap: var(--space-xs);
        }

        .hero-subtitle::before {
            content: '';
            width: 40px;
            height: 2px;
            background: var(--primary-green);
        }

        .hero h1 {
            margin-bottom: var(--space-md);
            animation: fadeInUp 0.8s ease-out;
        }

        .hero .hero-headline {
            margin-bottom: var(--space-md);
        }

        .hero-description {
            font-family: var(--font-body);
            font-size: 1.125rem;
            line-height: 1.6;
            color: var(--dark-gray);
            margin-bottom: var(--space-lg);
            animation: fadeInUp 0.8s ease-out 0.2s backwards;
        }

        .hero-actions {
            display: flex;
            gap: var(--space-md);
            flex-wrap: wrap;
            animation: fadeInUp 0.8s ease-out 0.4s backwards;
        }

        .hero-image {
            position: relative;
            z-index: 2;
        }

        /* ==========================================
           ADS SLIDER
        ========================================== */
        .hero-slider {
            position: relative;
            width: 100%;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            animation: fadeInRight 1s ease-out 0.3s backwards;
            background: #f5f5f5;
            border: 5px solid var(--primary-green);
        }

        .hero-slider::before {
            content: '';
            position: absolute;
            top: -5%;
            left: -5%;
            width: 110%;
            height: 110%;
            background: linear-gradient(135deg, var(--primary-green) 0%, var(--primary-green-light) 100%);
            border-radius: var(--radius-xl);
            opacity: 0.08;
            z-index: -1;
            pointer-events: none;
        }

        .slider-track {
            position: relative;
            width: 100%;
            aspect-ratio: 16 / 10;
        }

        .slider-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transform: translateX(40px);
            transition: opacity 0.7s ease, transform 0.7s ease;
            pointer-events: none;
        }

        .slider-slide.active {
            opacity: 1;
            transform: translateX(0);
            pointer-events: auto;
        }

        .slider-slide.exit-left {
            opacity: 0;
            transform: translateX(-40px);
        }

        .slider-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            border-radius: var(--radius-lg);
        }

        /* Arrow Controls */
        .slider-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            background: rgba(255, 255, 255, 0.85);
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            font-size: 1.4rem;
            color: var(--primary-green-dark);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            transition: all 0.25s ease;
            opacity: 0;
            line-height: 1;
            padding: 0;
        }

        .hero-slider:hover .slider-arrow {
            opacity: 1;
        }

        .slider-arrow:hover {
            background: var(--primary-green);
            color: var(--white);
            transform: translateY(-50%) scale(1.1);
        }

        .slider-prev { left: 10px; }
        .slider-next { right: 10px; }

        /* Navigation Dots */
        .slider-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 10px 0;
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }

        .slider-dot {
            width: 9px;
            height: 9px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.55);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1.5px solid rgba(255,255,255,0.7);
        }

        .slider-dot.active {
            background: var(--white);
            transform: scale(1.25);
            box-shadow: 0 0 6px rgba(255,255,255,0.7);
        }

        .slider-dot:hover {
            background: rgba(255, 255, 255, 0.9);
        }

        @media (max-width: 768px) {
            .slider-arrow { width: 30px; height: 30px; font-size: 1.1rem; opacity: 1; }
            .slider-prev { left: 6px; }
            .slider-next { right: 6px; }
            .slider-dot { width: 7px; height: 7px; }
        }

        /* ==========================================
           FEATURES SECTION
        ========================================== */

        .features {
            padding: var(--space-2xl) var(--space-lg);
            background: var(--white);
            position: relative;
        }

        .section-header {
            text-align: center;
            max-width: 800px;
            margin: 0 auto var(--space-xl);
        }

        .section-subtitle {
            font-family: var(--font-body);
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            color: var(--primary-green);
            margin-bottom: var(--space-sm);
        }

        .section-title {
            margin-bottom: var(--space-md);
        }

        .section-description {
            font-size: 1.1rem;
            color: var(--dark-gray);
        }

        .features-grid {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(320px, 100%), 1fr));
            gap: var(--space-lg);
        }

        .feature-card {
            background: var(--white);
            padding: var(--space-lg);
            border-radius: var(--radius-lg);
            border: 2px solid var(--gray);
            transition: all var(--transition-elegant);
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-green), var(--primary-green-light));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform var(--transition-elegant);
        }

        .feature-card:hover {
            border-color: var(--primary-green);
            box-shadow: var(--shadow-lg);
            transform: translateY(-8px);
        }

        .feature-card:hover::before {
            transform: scaleX(1);
        }

        .feature-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--primary-green), var(--primary-green-light));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: var(--space-md);
            transition: transform var(--transition-base);
            box-shadow: var(--shadow-md);
        }

        .feature-card:hover .feature-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .feature-card h3 {
            font-size: 1.25rem;
            margin-bottom: var(--space-sm);
            color: var(--primary-green-dark);
        }

        .feature-card p {
            color: var(--dark-gray);
            line-height: 1.7;
        }

        /* ==========================================
           HOW IT WORKS SECTION
        ========================================== */

        .how-it-works {
            padding: var(--space-2xl) var(--space-lg);
            background: linear-gradient(135deg, var(--cream) 0%, var(--light-gray) 100%);
        }

        .steps-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
            gap: var(--space-xl);
            position: relative;
        }

        .step {
            text-align: center;
            position: relative;
        }

        .step-number {
            width: 80px;
            height: 80px;
            background: var(--white);
            border: 4px solid var(--primary-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-display);
            font-size: 2rem;
            font-weight: 900;
            color: var(--primary-green);
            margin: 0 auto var(--space-md);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-base);
        }

        .step:hover .step-number {
            background: var(--primary-green);
            color: var(--white);
            transform: scale(1.1);
        }

        .step h3 {
            font-size: 1.35rem;
            margin-bottom: var(--space-sm);
        }

        .step p {
            color: var(--dark-gray);
        }

        /* ==========================================
           ANIMATIONS
        ========================================== */

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        /* ==========================================
           FOOTER
        ========================================== */

        footer {
            background: var(--primary-green-extra-dark);
            color: var(--white);
            padding: var(--space-xl) var(--space-lg) var(--space-md);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
            gap: var(--space-xl);
            margin-bottom: var(--space-lg);
        }

        .footer-section h3 {
            color: var(--white);
            font-size: 1.2rem;
            margin-bottom: var(--space-md);
        }

        .footer-section p,
        .footer-section a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            display: block;
            margin-bottom: var(--space-xs);
            transition: color var(--transition-base);
        }

        .footer-section a:hover {
            color: var(--white);
            padding-left: 5px;
        }

        .footer-bottom {
            text-align: center;
            padding-top: var(--space-md);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
        }

        /* ==========================================
           MODALS & OVERLAYS
        ========================================== */

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
        }

        .auth-card {
            background: var(--white);
            padding: var(--space-xl);
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 450px;
            box-shadow: var(--shadow-xl);
            animation: slideUp 0.4s ease;
            border: 2px solid var(--gray);
        }

        .auth-card h2 {
            text-align: center;
            color: var(--primary-green-dark);
            margin-bottom: var(--space-lg);
            font-size: 2rem;
        }

        .auth-tabs {
            display: flex;
            gap: var(--space-sm);
            margin-bottom: var(--space-lg);
        }

        .tab {
            flex: 1;
            padding: var(--space-sm) var(--space-md);
            background: var(--light-gray);
            border: 2px solid var(--gray);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-family: var(--font-body);
            font-size: 1rem;
            font-weight: 600;
            transition: all var(--transition-base);
            color: var(--charcoal);
        }

        .tab:hover {
            background: var(--gray);
        }

        .tab.active {
            background: var(--primary-green);
            color: var(--white);
            border-color: var(--primary-green);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: var(--space-md);
        }

        .form-group label {
            display: block;
            margin-bottom: var(--space-xs);
            color: var(--charcoal);
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: var(--space-sm) var(--space-md);
            border: 2px solid var(--gray);
            border-radius: var(--radius-md);
            font-family: var(--font-body);
            font-size: 1rem;
            transition: all var(--transition-base);
            background: var(--white);
            color: var(--charcoal);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(48, 86, 29, 0.1);
        }

        .close-modal {
            float: right;
            font-size: 2rem;
            color: var(--charcoal);
            cursor: pointer;
            line-height: 1;
            transition: all var(--transition-base);
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-modal:hover {
            color: var(--primary-green);
            background: var(--light-gray);
            transform: rotate(90deg);
        }

        /* Step-Based Registration Styles */
        .step-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .step-indicator .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light-gray);
            border: 2px solid var(--gray);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: var(--dark-gray);
            transition: all var(--transition-base);
        }

        .step-indicator.active .step-number {
            background: var(--primary-green);
            border-color: var(--primary-green);
            color: white;
        }

        .step-label {
            font-size: 12px;
            color: var(--dark-gray);
            font-weight: 500;
        }

        .step-indicator.active .step-label {
            color: var(--primary-green);
            font-weight: 600;
        }

        .step-line {
            width: 40px;
            height: 2px;
            background: var(--gray);
            margin-top: 20px;
            transition: all var(--transition-base);
        }

        .step-indicator.active ~ .step-line {
            background: var(--primary-green);
        }

        .registration-step {
            display: none;
        }

        .registration-step.active {
            display: block;
        }

        .form-group select {
            width: 100%;
            padding: var(--space-sm) var(--space-md);
            border: 2px solid var(--gray);
            border-radius: var(--radius-md);
            font-family: var(--font-body);
            font-size: 1rem;
            transition: all var(--transition-base);
            background: var(--white);
            color: var(--charcoal);
        }

        .form-group select:focus {
            outline: none;
            border-color: var(--primary-green);
            box-shadow: 0 0 0 3px rgba(48, 86, 29, 0.1);
        }

        .form-group small {
            display: block;
            margin-top: 4px;
        }

        /* AI Assistant */
        .ai-assistant {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 70px;
            height: 70px;
            background: var(--primary-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-base);
            z-index: 999;
            animation: float 3s ease-in-out infinite;
        }

        .ai-assistant:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-xl);
            background: var(--primary-green-light);
        }

        .ai-assistant::before {
            content: 'ðŸŽ¤';
            font-size: 2rem;
        }

        .ai-assistant.notranslate::before {
            translate: no !important;
        }

        .ai-chat {
            display: none;
            position: fixed;
            bottom: 120px;
            right: 30px;
            width: 380px;
            height: 520px;
            background: var(--white);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            z-index: 998;
            flex-direction: column;
            border: 2px solid var(--gray);
        }

        .ai-chat.active {
            display: flex;
        }

        .ai-chat-header {
            background: var(--primary-green);
            color: var(--white);
            padding: var(--space-md);
            border-radius: var(--radius-lg) var(--radius-lg) 0 0;
            font-weight: 600;
        }

        .ai-chat-body {
            flex: 1;
            padding: var(--space-md);
            overflow-y: auto;
            background: var(--cream);
        }

        .ai-chat-input {
            padding: var(--space-md);
            border-top: 2px solid var(--gray);
            display: flex;
            gap: var(--space-sm);
            background: var(--white);
            border-radius: 0 0 var(--radius-lg) var(--radius-lg);
        }

        .ai-chat-input input {
            flex: 1;
            padding: var(--space-sm) var(--space-md);
            border: 2px solid var(--gray);
            border-radius: var(--radius-md);
            font-family: var(--font-body);
        }

        .ai-chat-input button {
            padding: var(--space-sm) var(--space-lg);
            background: var(--primary-green);
            color: var(--white);
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            transition: all var(--transition-base);
        }

        .ai-chat-input button:hover {
            background: var(--primary-green-dark);
        }

        /* Notification Toast System */
        .notification {
            position: fixed;
            top: 100px;
            right: 30px;
            padding: 16px 24px;
            border-radius: var(--radius-md);
            box-shadow: 0 8px 32px rgba(0,0,0,0.18);
            z-index: 3000;
            display: none;
            animation: slideInRight 0.4s cubic-bezier(0.4,0,0.2,1);
            max-width: 400px;
            min-width: 280px;
            font-size: 0.95rem;
            font-weight: 500;
            line-height: 1.5;
            color: #fff;
            border-left: 5px solid transparent;
            transition: opacity 0.3s, transform 0.3s;
        }

        .notification.active {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .notification.success {
            background: linear-gradient(135deg, #2d8a4e, #38a169);
            border-left-color: #22c55e;
        }

        .notification.error {
            background: linear-gradient(135deg, #c53030, #e53e3e);
            border-left-color: #f56565;
        }

        .notification.info {
            background: linear-gradient(135deg, #2b6cb0, #3182ce);
            border-left-color: #63b3ed;
        }

        .notification .notif-icon {
            font-size: 1.4rem;
            flex-shrink: 0;
        }

        .notification .notif-text {
            flex: 1;
        }

        .notification .notif-close {
            background: none;
            border: none;
            color: rgba(255,255,255,0.8);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0 4px;
            flex-shrink: 0;
        }

        .notification .notif-close:hover {
            color: #fff;
        }

        .notification.fade-out {
            opacity: 0;
            transform: translateX(30px);
        }

        /* Loading spinner for buttons */
        .btn-loading {
            position: relative;
            pointer-events: none;
            opacity: 0.85;
        }

        .btn-loading::after {
            content: '';
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: #fff;
            border-radius: 50%;
            animation: btnSpin 0.6s linear infinite;
        }

        @keyframes btnSpin {
            to { transform: translateY(-50%) rotate(360deg); }
        }

        /* OTP countdown timer */
        .otp-timer {
            text-align: center;
            font-size: 13px;
            color: var(--dark-gray);
            margin-top: 8px;
        }

        .otp-timer .countdown {
            font-weight: 700;
            color: var(--primary-green);
        }

        .otp-timer .expired {
            color: #e53e3e;
        }

        /* OTP verified badge */
        .otp-verified-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: linear-gradient(135deg, #2d8a4e, #38a169);
            color: #fff;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-top: 10px;
        }

        /* OTP Success Banner */
        .otp-success-banner {
            display: none;
            background: linear-gradient(135deg, #2d8a4e 0%, #38a169 50%, #48bb78 100%);
            color: #fff;
            padding: 18px 20px;
            border-radius: var(--radius-md);
            margin-top: 16px;
            margin-bottom: 10px;
            text-align: center;
            font-size: 14px;
            line-height: 1.7;
            box-shadow: 0 4px 20px rgba(45, 138, 78, 0.35);
            position: relative;
            overflow: hidden;
            animation: otpBannerSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        .otp-success-banner.visible {
            display: block;
        }

        .otp-success-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
            pointer-events: none;
        }

        .otp-success-banner .banner-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 6px;
            letter-spacing: 0.02em;
        }

        .otp-success-banner .banner-phone {
            font-size: 15px;
            opacity: 0.95;
            margin-bottom: 4px;
        }

        .otp-success-banner .banner-console {
            font-size: 25px;
            opacity: 0.8;
            font-style: italic;
        }

        .otp-countdown-bar {
            background: rgba(255,255,255,0.15);
            border-radius: 20px;
            height: 6px;
            margin-top: 12px;
            overflow: hidden;
        }

        .otp-countdown-bar .bar-fill {
            height: 100%;
            background: #fff;
            border-radius: 20px;
            transition: width 1s linear;
        }

        .otp-countdown-text {
            margin-top: 8px;
            font-size: 13px;
            font-weight: 600;
            color: var(--primary-green);
            text-align: center;
        }

        .otp-countdown-text.expired-text {
            color: #e53e3e;
        }

        @keyframes otpBannerSlideIn {
            from {
                opacity: 0;
                transform: translateY(-15px) scale(0.97);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @media (max-width: 768px) {
            .notification {
                right: 10px;
                left: 10px;
                max-width: calc(100% - 20px);
                min-width: unset;
                top: 80px;
            }
        }

        /* Video Modal */
        .video-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(8px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .video-modal.active {
            display: flex;
        }

        .video-container {
            width: 90%;
            max-width: 800px;
            position: relative;
        }

        .video-container video {
            width: 100%;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
        }

        .close-video {
            position: absolute;
            top: -50px;
            right: 0;
            color: var(--white);
            font-size: 2.5rem;
            cursor: pointer;
            transition: all var(--transition-base);
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
        }

        .close-video:hover {
            background: var(--primary-green);
            transform: rotate(90deg);
        }

        /* ==========================================
           ANIMATIONS
        ========================================== */

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* ==========================================
           RESPONSIVE DESIGN
        ========================================== */

        @media (max-width: 1024px) {
            .hero-container {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-subtitle::before {
                display: none;
            }

            .hero-subtitle {
                justify-content: center;
            }

            .hero-headline .hl-farmers-line {
                justify-content: center;
            }

            .hero-headline .hl-accent {
                margin-left: auto;
                margin-right: auto;
            }

            .hero-actions {
                justify-content: center;
            }

            .hero-image {
                order: -1;
            }

            .hero {
                padding: var(--space-xl) var(--space-lg);
            }

            .features,
            .how-it-works {
                padding: var(--space-xl) var(--space-lg);
            }

            .steps-container {
                gap: var(--space-lg);
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 10px var(--space-sm);
                position: relative;
            }

            .hamburger-btn {
                display: flex;
            }

            .logo-img {
                height: 60px;
            }

            nav ul {
                display: none;
                position: fixed;
                top: 0;
                right: 0;
                width: 280px;
                height: 100vh;
                background: var(--white);
                flex-direction: column;
                padding: 80px var(--space-md) var(--space-lg);
                box-shadow: -4px 0 20px rgba(0, 0, 0, 0.15);
                z-index: 1000;
                gap: var(--space-xs);
                overflow-y: auto;
                transition: transform var(--transition-base);
            }

            nav ul.mobile-open {
                display: flex;
            }

            nav ul li {
                width: 100%;
            }

            nav ul li a {
                font-size: 1rem;
                padding: 12px var(--space-sm);
                display: block;
                border-radius: var(--radius-sm);
            }

            nav ul li a:hover {
                background: var(--light-gray);
            }

            nav ul li a::after {
                display: none;
            }

            .mobile-overlay {
                display: block;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.4);
                z-index: 999;
            }

            .hero {
                padding: var(--space-xl) var(--space-sm);
                min-height: auto;
            }

            .hero-container {
                gap: var(--space-lg);
            }

            .hero-description {
                font-size: 1rem;
            }

            .hero-actions {
                flex-direction: column;
                align-items: center;
            }

            .hero-actions .btn {
                width: 100%;
                justify-content: center;
            }

            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.75rem;
            }

            .btn {
                padding: 12px 24px;
                font-size: 0.9rem;
            }

            .features,
            .how-it-works {
                padding: var(--space-lg) var(--space-sm);
            }

            .features-grid {
                grid-template-columns: 1fr;
                gap: var(--space-md);
            }

            .feature-card {
                padding: var(--space-md);
            }

            .steps-container {
                grid-template-columns: 1fr;
                gap: var(--space-lg);
            }

            .step-number {
                width: 64px;
                height: 64px;
                font-size: 1.5rem;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            footer {
                padding: var(--space-lg) var(--space-sm) var(--space-md);
            }

            .ai-chat {
                width: 92%;
                right: 4%;
                left: 4%;
                height: 450px;
                bottom: 100px;
            }

            .ai-assistant {
                width: 56px;
                height: 56px;
                bottom: 20px;
                right: 20px;
            }

            .ai-assistant::before {
                font-size: 1.6rem;
            }

            .auth-card {
                padding: var(--space-md);
                width: 95%;
            }

            .auth-card h2 {
                font-size: 1.5rem;
            }

            .video-container {
                width: 95%;
            }

            .close-video {
                top: -40px;
            }

            .language-select {
                width: 100%;
            }

            .notification {
                right: 15px;
                left: 15px;
                max-width: none;
            }

            .section-header {
                padding: 0 var(--space-xs);
            }

            .section-description {
                font-size: 1rem;
            }
        }

        /* Small screens */
        @media (max-width: 480px) {
            .hero {
                padding: var(--space-lg) var(--space-sm);
            }

            h1 {
                font-size: 1.75rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            h3 {
                font-size: 1.15rem;
            }

            .btn {
                padding: 11px 20px;
                font-size: 0.85rem;
            }

            .hero-subtitle {
                font-size: 0.8rem;
            }

            .feature-icon {
                width: 52px;
                height: 52px;
                font-size: 1.6rem;
            }

            .ai-chat {
                width: 96%;
                right: 2%;
                left: 2%;
                height: 400px;
                bottom: 90px;
            }

            .ai-chat-input {
                flex-wrap: wrap;
            }

            .ai-chat-input input {
                font-size: 0.9rem;
            }

            .ai-chat-input button {
                width: 100%;
                padding: var(--space-sm);
            }

            .auth-card {
                padding: var(--space-sm);
                margin: var(--space-xs);
            }

            .auth-tabs {
                flex-direction: column;
            }

            .form-group input,
            .form-group textarea,
            .form-group select {
                font-size: 16px; /* Prevents zoom on iOS */
            }

            .modal {
                padding: var(--space-xs);
                align-items: flex-start;
                padding-top: var(--space-lg);
            }

            .logo-img {
                height: 52px;
            }

            nav {
                padding: 8px var(--space-xs);
            }
        }

        /* Mobile overlay - hidden by default */
        .mobile-overlay {
            display: none;
        }

        /* ==========================================
           INLINE GRID RESPONSIVE OVERRIDES
        ========================================== */

        /* Fix inline-styled grids that use minmax(300px) which can overflow on mobile */
        @media (max-width: 768px) {
            section > div[style*="grid-template-columns"] {
                grid-template-columns: 1fr !important;
                gap: var(--space-md) !important;
            }

            section > div[style*="max-width: 1000px"],
            section > div[style*="max-width: 1200px"] {
                padding: var(--space-md) !important;
            }
        }

        @media (max-width: 480px) {
            section > div[style*="max-width: 1000px"],
            section > div[style*="max-width: 1200px"] {
                padding: var(--space-sm) !important;
                margin-left: var(--space-xs) !important;
                margin-right: var(--space-xs) !important;
            }
        }

        /* ==========================================
           UTILITY CLASSES
        ========================================== */

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-lg);
        }

        .text-center {
            text-align: center;
        }

        .mb-sm { margin-bottom: var(--space-sm); }
        .mb-md { margin-bottom: var(--space-md); }
        .mb-lg { margin-bottom: var(--space-lg); }
        .mb-xl { margin-bottom: var(--space-xl); }

        .mt-sm { margin-top: var(--space-sm); }
        .mt-md { margin-top: var(--space-md); }
        .mt-lg { margin-top: var(--space-lg); }
        .mt-xl { margin-top: var(--space-xl); }

        /* ==========================================
           GOOGLE TRANSLATE PROTECTION - ENHANCED
        ========================================== */

        /* Hide Google Translate banner and frames */
        .goog-te-banner-frame,
        .goog-te-menu-frame,
        .skiptranslate,
        .goog-te-banner,
        .goog-te-gadget {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            height: 0 !important;
            width: 0 !important;
            overflow: hidden !important;
        }

        /* Fix body positioning when Google Translate is active */
        body {
            top: 0 !important;
            position: relative !important;
        }

        body.translated-ltr,
        body.translated-rtl {
            top: 0 !important;
            position: relative !important;
        }

        /* Protect ALL UI elements from translation */
        .notranslate,
        .notranslate *,
        nav,
        nav *,
        .logo,
        .logo *,
        .btn,
        .btn *,
        .language-select,
        .language-select *,
        .language-select option,
        .feature-icon,
        .hero-subtitle,
        .section-subtitle,
        .step-number,
        .close-modal,
        .close-video,
        .ai-assistant,
        .ai-assistant *,
        .ai-chat-header,
        .tab,
        .footer-bottom,
        header,
        header *,
        footer,
        footer *,
        [class*="icon"],
        [class*="emoji"],
        .logo-icon,
        .feature-icon {
            translate: no !important;
            -webkit-translate: no !important;
        }

        /* Force notranslate class protection */
        .notranslate {
            translate: no !important;
            -webkit-translate: no !important;
        }

        /* Language selector - complete protection */
        .language-select,
        .language-selector {
            translate: no !important;
            -webkit-translate: no !important;
        }

        .language-select option,
        .language-selector option {
            translate: no !important;
            -webkit-translate: no !important;
        }

        /* Ensure Tamil and Telugu fonts render correctly */
        [lang="ta"], [lang="ta"] * {
            font-family: 'Noto Sans Tamil', 'Tamil MN', 'Latha', sans-serif !important;
        }

        [lang="te"], [lang="te"] * {
            font-family: 'Noto Sans Telugu', 'Telugu MN', 'Gautami', sans-serif !important;
        }

        /* ==========================================
           INNOVATION & SUPPORT CENTER STYLES
        ========================================== */
        .innovation-section {
            padding: var(--space-2xl) var(--space-lg) !important;
            background: linear-gradient(135deg, #f0f7ec 0%, var(--cream) 50%, #e8f5e1 100%) !important;
        }

        .innovation-form {
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            padding: var(--space-xl);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            border: 2px solid var(--gray);
        }

        .form-section {
            margin-bottom: var(--space-lg);
            padding-bottom: var(--space-md);
            border-bottom: 1px solid var(--gray);
        }

        .form-section:last-of-type {
            border-bottom: none;
        }

        .form-section-title {
            font-family: var(--font-display);
            font-size: 1.3rem;
            color: var(--primary-green-dark);
            margin-bottom: var(--space-md);
        }

        .form-section-label {
            font-weight: 600;
            color: var(--charcoal);
            display: block;
            margin-bottom: var(--space-sm);
            font-size: 0.95rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-md);
        }

        @media (max-width: 600px) {
            .form-row { grid-template-columns: 1fr; }
        }

        .required { color: #e53935; }

        /* Format Options */
        .format-options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: var(--space-md);
        }

        .format-option { cursor: pointer; }

        .format-option input[type="radio"] { display: none; }

        .format-badge {
            display: inline-block;
            padding: 10px 20px;
            background: var(--light-gray);
            border: 2px solid var(--gray);
            border-radius: var(--radius-full);
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--charcoal);
            transition: all var(--transition-base);
            user-select: none;
        }

        .format-option input[type="radio"]:checked + .format-badge {
            background: var(--primary-green);
            color: var(--white);
            border-color: var(--primary-green);
            box-shadow: var(--shadow-md);
        }

        .format-badge:hover { border-color: var(--primary-green-light); }

        .innovation-format-panel { display: none; }

        .innovation-format-panel.active {
            display: block;
            animation: fadeInUp 0.3s ease;
        }

        /* File Upload */
        .file-upload-area {
            border: 2px dashed var(--gray);
            border-radius: var(--radius-md);
            padding: var(--space-md);
            transition: all var(--transition-base);
            background: var(--light-gray);
        }

        .file-upload-area:hover,
        .file-upload-area.dragover {
            border-color: var(--primary-green);
            background: rgba(48, 86, 29, 0.04);
        }

        .upload-placeholder {
            text-align: center;
            cursor: pointer;
            padding: var(--space-md);
        }

        .upload-icon {
            font-size: 2.5rem;
            display: block;
            margin-bottom: 8px;
        }

        .upload-placeholder p {
            font-weight: 500;
            color: var(--charcoal);
            margin-bottom: 4px;
        }

        .upload-placeholder small { color: var(--dark-gray); }

        .file-preview { margin-top: 12px; }

        .file-preview-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 14px;
            background: var(--white);
            border: 1px solid var(--gray);
            border-radius: var(--radius-sm);
            margin-bottom: 8px;
        }

        .file-preview-item .file-name {
            flex: 1;
            font-size: 0.9rem;
            font-weight: 500;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .file-preview-item .file-size { font-size: 0.8rem; color: var(--dark-gray); }

        .file-preview-item .file-remove {
            background: none;
            border: none;
            color: #e53935;
            cursor: pointer;
            font-size: 1.2rem;
            padding: 2px 6px;
        }

        .image-preview-grid { display: flex; flex-wrap: wrap; gap: 10px; }

        .image-preview-thumb {
            width: 80px;
            height: 80px;
            border-radius: 8px;
            object-fit: cover;
            border: 2px solid var(--gray);
        }

        /* Record Options */
        .record-options {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .record-btn { min-width: 180px; }

        .recording-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 600;
            color: #e53935;
            font-size: 1rem;
        }

        .rec-dot {
            display: inline-block;
            width: 14px;
            height: 14px;
            background: #e53935;
            border-radius: 50%;
            animation: recPulse 1s ease infinite;
        }

        @keyframes recPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.4; transform: scale(1.3); }
        }

        .rec-timer {
            font-family: 'Courier New', monospace;
            font-size: 1.1rem;
            color: var(--charcoal);
        }

        .rec-label {
            font-weight: 600;
            color: #e53935;
        }

        /* Record Cards */
        .record-card {
            background: var(--white);
            border: 2px solid var(--gray);
            border-radius: var(--radius-lg);
            margin-bottom: var(--space-md);
            overflow: hidden;
            transition: all var(--transition-base);
        }

        .record-card:hover {
            border-color: var(--primary-green-light);
            box-shadow: var(--shadow-md);
        }

        .record-card:last-child {
            margin-bottom: 0;
        }

        .record-card-header {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 18px 20px;
            background: linear-gradient(135deg, #f0f7ec, var(--cream));
            border-bottom: 1px solid var(--gray);
        }

        .record-card-icon {
            font-size: 2rem;
            width: 50px;
            height: 50px;
            background: var(--white);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-sm);
            flex-shrink: 0;
        }

        .record-card-title h4 {
            font-family: var(--font-display);
            font-size: 1.1rem;
            color: var(--primary-green-dark);
            margin: 0 0 2px;
            font-weight: 700;
        }

        .record-card-title p {
            font-size: 0.85rem;
            color: var(--dark-gray);
            margin: 0;
            line-height: 1.4;
        }

        .record-card-body {
            padding: 20px;
        }

        .record-controls {
            display: flex;
            gap: 12px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }

        .record-start-btn,
        .record-stop-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 28px;
            border: 2px solid transparent;
            border-radius: var(--radius-full);
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
            font-family: var(--font-body);
        }

        .record-start-btn {
            background: var(--primary-green);
            color: var(--white);
            border-color: var(--primary-green);
        }

        .record-start-btn:hover {
            background: var(--primary-green-light);
            border-color: var(--primary-green-light);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .record-stop-btn {
            background: #e53935;
            color: var(--white);
            border-color: #e53935;
        }

        .record-stop-btn:hover {
            background: #c62828;
            border-color: #c62828;
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(229, 57, 53, 0.3);
        }

        .rec-btn-icon {
            font-size: 0.8rem;
        }

        .record-stop-btn .rec-btn-icon {
            font-size: 0.7rem;
        }

        .record-status {
            margin-top: 16px;
            padding: 16px;
            background: linear-gradient(135deg, #fff5f5, #fff0f0);
            border-radius: var(--radius-md);
            border: 1px solid #ffcdd2;
            text-align: center;
        }

        .record-preview {
            margin-top: 14px;
        }

        .record-preview-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border: 2px solid #a5d6a7;
            border-radius: var(--radius-md);
        }

        .record-preview-item .preview-icon {
            font-size: 1.5rem;
        }

        .record-preview-item .preview-info {
            flex: 1;
        }

        .record-preview-item .preview-info .preview-label {
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--primary-green-dark);
        }

        .record-preview-item .preview-info .preview-size {
            font-size: 0.8rem;
            color: var(--dark-gray);
        }

        .record-preview-item .preview-play-btn {
            padding: 6px 16px;
            background: var(--primary-green);
            color: var(--white);
            border: none;
            border-radius: var(--radius-full);
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all var(--transition-base);
        }

        .record-preview-item .preview-play-btn:hover {
            background: var(--primary-green-light);
        }

        .record-preview-item .preview-remove-btn {
            background: none;
            border: none;
            color: #e53935;
            cursor: pointer;
            font-size: 1.3rem;
            padding: 4px 8px;
            transition: all var(--transition-base);
        }

        .record-preview-item .preview-remove-btn:hover {
            transform: scale(1.2);
        }

        /* Waveform Animation */
        .rec-waveform {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 3px;
            margin-top: 12px;
            height: 30px;
        }

        .rec-waveform span {
            display: inline-block;
            width: 4px;
            background: #e53935;
            border-radius: 4px;
            animation: waveform 0.8s ease-in-out infinite;
        }

        .rec-waveform span:nth-child(1) { height: 8px; animation-delay: 0s; }
        .rec-waveform span:nth-child(2) { height: 16px; animation-delay: 0.1s; }
        .rec-waveform span:nth-child(3) { height: 24px; animation-delay: 0.2s; }
        .rec-waveform span:nth-child(4) { height: 12px; animation-delay: 0.3s; }
        .rec-waveform span:nth-child(5) { height: 20px; animation-delay: 0.15s; }
        .rec-waveform span:nth-child(6) { height: 28px; animation-delay: 0.25s; }
        .rec-waveform span:nth-child(7) { height: 14px; animation-delay: 0.05s; }
        .rec-waveform span:nth-child(8) { height: 22px; animation-delay: 0.35s; }
        .rec-waveform span:nth-child(9) { height: 10px; animation-delay: 0.2s; }
        .rec-waveform span:nth-child(10) { height: 18px; animation-delay: 0.1s; }

        @keyframes waveform {
            0%, 100% { transform: scaleY(0.4); opacity: 0.5; }
            50% { transform: scaleY(1); opacity: 1; }
        }

        /* Video Live Preview */
        .video-live-preview-wrapper {
            margin-top: 14px;
            border-radius: var(--radius-md);
            overflow: hidden;
            background: #000;
            position: relative;
        }

        .video-live-preview-wrapper video {
            width: 100%;
            max-height: 280px;
            display: block;
            border-radius: var(--radius-md);
        }

        /* Playback modal for recorded preview */
        .playback-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .playback-overlay .playback-container {
            background: var(--white);
            border-radius: var(--radius-lg);
            padding: 20px;
            max-width: 600px;
            width: 90%;
            position: relative;
        }

        .playback-overlay video,
        .playback-overlay audio {
            width: 100%;
            border-radius: var(--radius-md);
        }

        .playback-overlay .close-playback {
            position: absolute;
            top: -12px;
            right: -12px;
            width: 32px;
            height: 32px;
            background: #e53935;
            color: var(--white);
            border: none;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Submit Button */
        .innovation-submit-btn {
            width: 100%;
            padding: 18px 32px;
            font-size: 1.1rem;
            margin-top: var(--space-md);
            letter-spacing: 0.03em;
        }

        /* Success Message */
        .innovation-success {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
            padding: var(--space-xl) var(--space-lg);
            background: var(--white);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            border: 2px solid var(--primary-green);
            animation: fadeInUp 0.6s ease;
        }

        .success-icon {
            font-size: 4rem;
            margin-bottom: var(--space-md);
            animation: float 3s ease-in-out infinite;
        }

        .success-title {
            font-size: 1.6rem;
            color: var(--primary-green-dark);
            margin-bottom: var(--space-sm);
        }

        .success-tagline {
            font-size: 1.1rem;
            color: var(--dark-gray);
            font-style: italic;
            line-height: 1.7;
        }

        /* Submission Counter */
        .submission-counter-section {
            max-width: 700px;
            margin: var(--space-xl) auto 0;
        }

        .counter-card {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            background: linear-gradient(135deg, var(--primary-green-extra-dark), var(--primary-green));
            padding: var(--space-lg);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-xl);
            color: var(--white);
            position: relative;
            overflow: hidden;
        }

        .counter-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -30%;
            width: 60%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.06) 0%, transparent 70%);
            pointer-events: none;
        }

        .counter-icon { font-size: 3rem; flex-shrink: 0; }

        .counter-content { flex: 1; }

        .counter-number-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 4px;
        }

        .counter-number {
            font-family: var(--font-display);
            font-size: 3rem;
            font-weight: 900;
            color: var(--white);
            text-shadow: 0 0 20px rgba(255,255,255,0.3), 0 0 40px rgba(255,255,255,0.15);
            animation: counterGlow 2s ease-in-out infinite alternate;
            line-height: 1;
        }

        @keyframes counterGlow {
            0% { text-shadow: 0 0 10px rgba(255,255,255,0.2), 0 0 20px rgba(255,255,255,0.1); }
            100% { text-shadow: 0 0 25px rgba(255,255,255,0.5), 0 0 50px rgba(255,255,255,0.25); }
        }

        .counter-plus {
            font-family: var(--font-body);
            font-size: 1.4rem;
            font-weight: 700;
            color: #a5d6a7;
            animation: plusPop 0.8s ease forwards;
        }

        @keyframes plusPop {
            0% { opacity: 0; transform: translateY(10px) scale(0.5); }
            50% { opacity: 1; transform: translateY(-8px) scale(1.3); }
            100% { opacity: 0; transform: translateY(-20px) scale(1); }
        }

        .counter-arrow {
            font-size: 1.3rem;
            color: #a5d6a7;
            animation: arrowBounce 1.5s ease infinite;
        }

        @keyframes arrowBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
        }

        .counter-label {
            font-size: 1.05rem;
            color: rgba(255,255,255,0.9);
            font-weight: 500;
            margin-bottom: 0;
        }

        @media (max-width: 600px) {
            .innovation-form { padding: var(--space-md); }
            .counter-card { flex-direction: column; text-align: center; padding: var(--space-md); }
            .counter-number { font-size: 2.2rem; }
            .counter-number-wrapper { justify-content: center; }
            .format-options { flex-direction: column; }
            .record-options { flex-direction: column; align-items: center; }
            .record-card-header { flex-direction: column; text-align: center; gap: 10px; padding: 14px; }
            .record-card-icon { margin: 0 auto; }
            .record-card-body { padding: 14px; }
            .record-start-btn, .record-stop-btn { padding: 10px 22px; font-size: 0.88rem; width: 100%; justify-content: center; }
            .record-controls { flex-direction: column; }
            .record-preview-item { flex-wrap: wrap; justify-content: center; gap: 8px; }
        }

        /* ==========================================
           STAY CONNECTED SECTION
        ========================================== */
        .stay-connected {
            position: relative;
            padding: 80px 24px 70px;
            background: linear-gradient(135deg, #1a3a1a 0%, #1b2a3a 50%, #0f2318 100%);
            text-align: center;
            overflow: hidden;
        }

        .stay-connected::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at 20% 80%, rgba(48,86,29,0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(30,80,130,0.12) 0%, transparent 50%);
            pointer-events: none;
        }

        /* Subtle agri-texture overlay */
        .stay-connected::after {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.02'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 1;
            pointer-events: none;
        }

        .stay-connected-inner {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }

        .stay-connected-title {
            font-family: var(--font-display);
            font-size: 2.2rem;
            font-weight: 800;
            color: #ffffff;
            margin-bottom: 12px;
            letter-spacing: -0.02em;
        }

        .stay-connected-title .emoji-leaf {
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }

        .stay-connected-subtitle {
            font-size: 1.1rem;
            color: rgba(255,255,255,0.7);
            font-weight: 400;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .social-icons-row {
            display: flex;
            justify-content: center;
            gap: 24px;
            flex-wrap: wrap;
        }

        .social-icon-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 62px;
            height: 62px;
            border-radius: 50%;
            text-decoration: none;
            transition: transform 0.35s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.35s ease;
            position: relative;
        }

        .social-icon-link svg {
            width: 28px;
            height: 28px;
            fill: #ffffff;
            transition: transform 0.3s ease;
        }

        .social-icon-link:hover {
            transform: scale(1.18) translateY(-4px);
        }

        .social-icon-link:hover svg {
            transform: scale(1.08);
        }

        /* Brand colors */
        .social-whatsapp {
            background: linear-gradient(135deg, #25D366, #128C7E);
            box-shadow: 0 4px 15px rgba(37, 211, 102, 0.35);
        }
        .social-whatsapp:hover {
            box-shadow: 0 8px 30px rgba(37, 211, 102, 0.55);
        }

        .social-youtube {
            background: linear-gradient(135deg, #FF0000, #CC0000);
            box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3);
        }
        .social-youtube:hover {
            box-shadow: 0 8px 30px rgba(255, 0, 0, 0.5);
        }

        .social-instagram {
            background: linear-gradient(135deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            box-shadow: 0 4px 15px rgba(225, 48, 108, 0.35);
        }
        .social-instagram:hover {
            box-shadow: 0 8px 30px rgba(225, 48, 108, 0.55);
        }

        .social-linkedin {
            background: linear-gradient(135deg, #0077B5, #005E93);
            box-shadow: 0 4px 15px rgba(0, 119, 181, 0.35);
        }
        .social-linkedin:hover {
            box-shadow: 0 8px 30px rgba(0, 119, 181, 0.55);
        }

        .social-facebook {
            background: linear-gradient(135deg, #1877F2, #0D5BBF);
            box-shadow: 0 4px 15px rgba(24, 119, 242, 0.35);
        }
        .social-facebook:hover {
            box-shadow: 0 8px 30px rgba(24, 119, 242, 0.55);
        }

        /* Divider line between social section and footer */
        .stay-connected-divider {
            max-width: 200px;
            margin: 48px auto 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        }

        @media (max-width: 600px) {
            .stay-connected { padding: 56px 20px 48px; }
            .stay-connected-title { font-size: 1.6rem; }
            .stay-connected-subtitle { font-size: 1rem; margin-bottom: 28px; }
            .social-icons-row { gap: 16px; }
            .social-icon-link { width: 54px; height: 54px; }
            .social-icon-link svg { width: 24px; height: 24px; }
        }
    </style>
</head>
<body>
<!-- Navigation Header -->
<header>
    <nav>
        <a href="#" class="logo notranslate">
            <img src="/static/logo/logoctf.png" alt="CTF.ai - Connecting Farmers to Customers" class="logo-img">
        </a>
        <button class="hamburger-btn notranslate" id="hamburgerBtn" onclick="toggleMobileMenu()" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <ul id="navMenu">
            <li><a href="#home" class="notranslate">Home</a></li>
            <li><a href="#features" class="notranslate">Features</a></li>
            <li><a href="#about" class="notranslate">About</a></li>
            <li><a href="#contact" class="notranslate">Contact</a></li>
            <li>
                <!-- Global language selector for landing page -->
                <select class="language-select notranslate" id="indexLanguageSelect" onchange="handleLanguageChange(this.value)">
                    <option value="en" class="notranslate">English</option>
                    <option value="hi" class="notranslate">à¤¹à¤¿à¤‚à¤¦à¥€ Hindi</option>
                    <option value="ta" class="notranslate">à®¤à®®à®¿à®´à¯ Tamil</option>
                    <option value="te" class="notranslate">à°¤à±†à°²à±à°—à± Telugu</option>
                </select>
            </li>
            <li><a href="#" class="btn btn-primary notranslate" id="get-started-btn">Get Started</a></li>
        </ul>
    </nav>
</header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-container">
            <div class="hero-content">
                <p class="hero-subtitle">
                    <span>Revolutionizing Agriculture</span>
                </p>
                <div class="hero-headline" role="heading" aria-level="1">
                    <span class="hl-connecting">Connecting</span>
                    <span class="hl-customers">Customers Directly</span>
                    <span class="hl-farmers-line">
                        <span class="hl-to">to</span>
                        <span class="hl-farmers">Farmers</span>
                        <span class="hl-icon" aria-hidden="true">
                            <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <!-- Basket body -->
                                <path d="M10 22h28l-2.5 16H12.5L10 22z" fill="#3d6e26"/>
                                <!-- Basket rim -->
                                <rect x="7" y="18" width="34" height="5" rx="2.5" fill="#2d5016"/>
                                <!-- Handle -->
                                <path d="M17 18V11a7 7 0 0 1 14 0v7" stroke="#2d5016" stroke-width="2.8" fill="none" stroke-linecap="round"/>
                                <!-- Leaf accents -->
                                <ellipse cx="20" cy="30" rx="2.5" ry="4" transform="rotate(-20 20 30)" fill="#4CAF50" opacity="0.85"/>
                                <ellipse cx="28" cy="29" rx="2" ry="3.5" transform="rotate(15 28 29)" fill="#66BB6A" opacity="0.8"/>
                                <ellipse cx="24" cy="32" rx="2" ry="3" transform="rotate(-5 24 32)" fill="#388E3C" opacity="0.75"/>
                                <!-- Basket lines -->
                                <path d="M16 26h16M15 30h18" stroke="#fff" stroke-width="0.6" opacity="0.3"/>
                            </svg>
                        </span>
                    </span>
                    <div class="hl-accent">
                        <span class="bar-gold"></span>
                        <span class="bar-green"></span>
                    </div>
                </div>
                <p class="hero-description">
                    Bridge the gap between agricultural producers and consumers with our innovative platform.
                    Empower farmers with AI-driven insights, real-time pricing, and direct market
                    access
                    while providing customers with fresh, authentic agricultural products.
                </p>
                <div class="hero-actions">
                    <a href="#" class="btn btn-primary notranslate" id="demo-btn">
                        <span class="notranslate">ðŸŽ¥</span>
                        <span class="notranslate">Watch Demo</span>
                    </a>
                    <a href="#features" class="btn btn-outline notranslate">
                        <span class="notranslate">ðŸ“–</span>
                        <span class="notranslate">Explore Features</span>
                    </a>
                </div>
            </div>
            <div class="hero-image">
                <div class="hero-slider">
                    <div class="slider-track">
                        <div class="slider-slide active"><img src="/static/ads/1.jpg" alt="Ad 1"></div>
                        <div class="slider-slide"><img src="/static/ads/2.jpg" alt="Ad 2"></div>
                        <div class="slider-slide"><img src="/static/ads/3.jpg" alt="Ad 3"></div>
                        <div class="slider-slide"><img src="/static/ads/4.jpg" alt="Ad 4"></div>
                        <div class="slider-slide"><img src="/static/ads/5.jpg" alt="Ad 5"></div>
                        <div class="slider-slide"><img src="/static/ads/6.png" alt="Ad 6"></div>
                        <div class="slider-slide"><img src="/static/ads/7.png" alt="Ad 7"></div>
                    </div>
                    <!-- Arrow Controls -->
                    <button class="slider-arrow slider-prev" onclick="sliderPrev()" aria-label="Previous">&#8249;</button>
                    <button class="slider-arrow slider-next" onclick="sliderNext()" aria-label="Next">&#8250;</button>
                    <!-- Dots -->
                    <div class="slider-dots">
                        <span class="slider-dot active" onclick="sliderGoTo(0)"></span>
                        <span class="slider-dot" onclick="sliderGoTo(1)"></span>
                        <span class="slider-dot" onclick="sliderGoTo(2)"></span>
                        <span class="slider-dot" onclick="sliderGoTo(3)"></span>
                        <span class="slider-dot" onclick="sliderGoTo(4)"></span>
                        <span class="slider-dot" onclick="sliderGoTo(5)"></span>
                        <span class="slider-dot" onclick="sliderGoTo(6)"></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="section-header">
            <p class="section-subtitle">Our Core Features</p>
            <h2 class="section-title">Everything You Need for Modern Agriculture</h2>
            <p class="section-description">
                A comprehensive suite of tools designed to empower farmers and connect them with
                customers seamlessly.
            </p>
        </div>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon notranslate">ðŸ“</div>
                <h3>Connect Local Farmers</h3>
                <p>Discover and connect with farmers within a 25 km radius. Build strong local
                    agricultural networks.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon notranslate">ðŸ¤</div>
                <h3>Direct Farmer Connect</h3>
                <p>Eliminate middlemen. Communicate directly with farmers for better prices and
                    authentic products.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon notranslate">ðŸ¤–</div>
                <h3>AI Agent & Voice Assistant</h3>
                <p>Smart AI-powered assistant available 24/7 to help with farming queries, market
                    insights, and guidance.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon notranslate">ðŸ’°</div>
                <h3>Live Price Teller</h3>
                <p>Real-time market price updates for crops. Stay informed and make data-driven
                    selling decisions.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon notranslate">ðŸŒ¾</div>
                <h3>Season Based Crop Suggestions</h3>
                <p>AI-driven recommendations for optimal crops based on season, soil, and market
                    demand.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon notranslate">ðŸŒ</div>
                <h3>Native Language Support</h3>
                <p>Multi-language platform supporting regional languages for easier farmer
                    adoption.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon notranslate">ðŸ“¢</div>
                <h3>Smart Advertisement Display</h3>
                <p>Automatically promote your farm products to targeted local customers in your
                    area.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon notranslate">ðŸ””</div>
                <h3>Nearby Farmers and Customers Alert</h3>
                <p>Instant notifications when farmers near you post new products or offers.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon notranslate">â­</div>
                <h3>Feedback for Farmers</h3>
                <p>Customer rating and feedback system to build trust and improve farmer
                    reputation.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon notranslate">ðŸ“</div>
                <h3>Customer Requirements</h3>
                <p>Customers can post specific crop requirements, and farmers can submit custom
                    offers.</p>
            </div>
        </div>
    </section>

<!-- About Section -->
<section class="features" id="about"
         style="padding: var(--space-2xl) var(--space-lg); background: linear-gradient(135deg, var(--cream) 0%, var(--light-gray) 100%);">
    <div class="section-header">
        <p class="section-subtitle">Our Mission</p>
        <h2 class="section-title">Why CTF.ai Exists</h2>
    </div>

    <div style="max-width: 1000px; margin: 0 auto var(--space-xl); background: var(--white); padding: var(--space-xl); border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); border: 2px solid var(--gray);">
        <p style="font-size: 1.15rem; line-height: 1.9; color: var(--dark-gray); text-align: center; margin-bottom: 0;">
            CTF.ai was built with a simple yet powerful vision: to create a sustainable ecosystem
            where farmers earn fair income, customers access genuine and healthy produce and
            communities grow through local economic empowerment. We believe that by eliminating
            middlemen and leveraging technology, we can revolutionize how food reaches your table.
        </p>
    </div>

        <div class="section-header" style="margin-bottom: var(--space-lg);">
            <h2 class="section-title" style="margin-bottom: var(--space-sm);">Who It Helps</h2>
            <p class="section-description">Empowering everyone in the agricultural ecosystem</p>
        </div>

        <div style="max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-lg);">
            <div style="background: var(--white); padding: var(--space-lg); border-radius: var(--radius-lg); border: 2px solid var(--gray); box-shadow: var(--shadow-md); transition: all var(--transition-elegant);"
                 onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='var(--shadow-lg)'; this.style.borderColor='var(--primary-green)';"
                 onmouseout="this.style.transform=''; this.style.boxShadow='var(--shadow-md)'; this.style.borderColor='var(--gray)';">
                <div class="notranslate" style="width: 64px; height: 64px; background: linear-gradient(135deg, var(--primary-green), var(--primary-green-light)); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin-bottom: var(--space-md); box-shadow: var(--shadow-md);">
                    ðŸ‘¨â€ðŸŒ¾
                </div>
                <h3 style="font-family: var(--font-display); font-size: 1.5rem; color: var(--primary-green-dark); margin-bottom: var(--space-sm);">
                    Farmers</h3>
                <p style="color: var(--dark-gray); line-height: 1.7; font-size: 1rem;">
                    Get direct access to customers, better prices, and fair compensation for their
                    hard work.
                </p>
            </div>

            <div style="background: var(--white); padding: var(--space-lg); border-radius: var(--radius-lg); border: 2px solid var(--gray); box-shadow: var(--shadow-md); transition: all var(--transition-elegant);"
                 onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='var(--shadow-lg)'; this.style.borderColor='var(--primary-green)';"
                 onmouseout="this.style.transform=''; this.style.boxShadow='var(--shadow-md)'; this.style.borderColor='var(--gray)';">
                <div class="notranslate" style="width: 64px; height: 64px; background: linear-gradient(135deg, var(--primary-green), var(--primary-green-light)); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin-bottom: var(--space-md); box-shadow: var(--shadow-md);">
                    ðŸª
                </div>
                <h3 style="font-family: var(--font-display); font-size: 1.5rem; color: var(--primary-green-dark); margin-bottom: var(--space-sm);">
                    Local Vendors</h3>
                <p style="color: var(--dark-gray); line-height: 1.7; font-size: 1rem;">
                    Can showcase fresh products to nearby buyers and build lasting relationships.
                </p>
            </div>

            <div style="background: var(--white); padding: var(--space-lg); border-radius: var(--radius-lg); border: 2px solid var(--gray); box-shadow: var(--shadow-md); transition: all var(--transition-elegant);"
                 onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='var(--shadow-lg)'; this.style.borderColor='var(--primary-green)';"
                 onmouseout="this.style.transform=''; this.style.boxShadow='var(--shadow-md)'; this.style.borderColor='var(--gray)';">
                <div class="notranslate" style="width: 64px; height: 64px; background: linear-gradient(135deg, var(--primary-green), var(--primary-green-light)); border-radius: var(--radius-md); display: flex; align-items: center; justify-content: center; font-size: 2rem; margin-bottom: var(--space-md); box-shadow: var(--shadow-md);">
                    ðŸ™ï¸
                </div>
                <h3 style="font-family: var(--font-display); font-size: 1.5rem; color: var(--primary-green-dark); margin-bottom: var(--space-sm);">
                    Urban Consumers</h3>
                <p style="color: var(--dark-gray); line-height: 1.7; font-size: 1rem;">
                    Value authentic, healthy, and locally grown products with complete transparency.
                </p>
            </div>
        </div>
    </section>

<!-- How It Works Section -->
    <section class="how-it-works" id="how-it-works">
        <div class="section-header">
            <p class="section-subtitle">Simple Process</p>
            <h2 class="section-title">How It Works</h2>
            <p class="section-description">Get started in three simple steps</p>
        </div>
        <div class="steps-container">
            <div class="step">
                <div class="step-number">1</div>
                <h3>Create Account</h3>
                <p>Sign up as a farmer or customer in less than 2 minutes. Provide basic details and
                    verify your account.</p>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <h3>Post or Browse Products</h3>
                <p>Farmers post products with photos and prices. Customers browse fresh produce from
                    local farmers.</p>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <h3>Connect & Trade</h3>
                <p>Direct communication between parties. Negotiate prices, arrange delivery, and
                    complete transactions.</p>
            </div>
        </div>
    </section>

    <!-- Contact / Farmer Innovation & Support Center -->
    <section id="contact" class="features innovation-section">
        <div class="section-header">
            <p class="section-subtitle">ðŸŒ¾ Farmer Innovation &amp; Support Center</p>
            <h2 class="section-title">Have Questions or Innovative Ideas? We're Here to Listen.</h2>
            <p class="section-description">Share your farming ideas, problems, or innovations with CTF.AI â€” together we build agriculture's future.</p>
        </div>

        <!-- Innovation Form -->
        <form class="innovation-form" id="innovationForm" onsubmit="handleInnovationSubmit(event)" enctype="multipart/form-data">

            <!-- Basic Details -->
            <div class="form-section">
                <h3 class="form-section-title">ðŸ‘¤ Basic Details</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="contactFullName">Full Name <span class="required">*</span></label>
                        <input type="text" id="contactFullName" name="full_name" placeholder="Enter your full name" required>
                    </div>
                    <div class="form-group">
                        <label for="contactPhone">Phone Number <span class="required">*</span></label>
                        <input type="tel" id="contactPhone" name="phone" placeholder="10-digit mobile number" pattern="[0-9]{10}" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="contactEmail">Email ID <span class="required">*</span></label>
                        <input type="email" id="contactEmail" name="email" placeholder="your@email.com" required>
                    </div>
                    <div class="form-group">
                        <label for="contactLocation">Location (Village / District / State) <span class="required">*</span></label>
                        <input type="text" id="contactLocation" name="location" placeholder="e.g., Anantapur, AP" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="contactDescription">Description <span class="required">*</span></label>
                    <textarea id="contactDescription" name="description" placeholder="Describe your query..." required style="min-height:120px;resize:vertical;"></textarea>
                </div>
            </div>

            <!-- Innovation Submission (Optional) -->
            <div class="form-section">
                <h3 class="form-section-title">ðŸ’¡ Innovation Submission <span style="font-size:0.8rem;color:var(--dark-gray);font-weight:400;">(Optional)</span></h3>

                <label class="form-section-label">Choose Format:</label>
                <div class="format-options">
                    <label class="format-option">
                        <input type="radio" name="innovation_format" value="text" checked onchange="toggleInnovationFormat(this.value)">
                        <span class="format-badge">ðŸ“ Text Idea</span>
                    </label>
                    <label class="format-option">
                        <input type="radio" name="innovation_format" value="video" onchange="toggleInnovationFormat(this.value)">
                        <span class="format-badge">ðŸŽ¥ Upload Video</span>
                    </label>
                    <label class="format-option">
                        <input type="radio" name="innovation_format" value="audio" onchange="toggleInnovationFormat(this.value)">
                        <span class="format-badge">ðŸŽ¤ Upload Audio</span>
                    </label>
                    <label class="format-option">
                        <input type="radio" name="innovation_format" value="images" onchange="toggleInnovationFormat(this.value)">
                        <span class="format-badge">ðŸ“· Upload Images</span>
                    </label>
                    <label class="format-option">
                        <input type="radio" name="innovation_format" value="record" onchange="toggleInnovationFormat(this.value)">
                        <span class="format-badge">ðŸŽ™ï¸ Record Live</span>
                    </label>
                </div>

                <!-- Text Idea Panel -->
                <div class="innovation-format-panel active" id="formatText">
                    <div class="form-group">
                        <label for="innovationDescription">ðŸ“ Innovation Description</label>
                        <textarea id="innovationDescription" name="innovation_description" placeholder="Describe your idea, farming problem, or innovation in detailâ€¦" style="min-height:160px;resize:vertical;"></textarea>
                    </div>
                </div>

                <!-- Video Upload Panel -->
                <div class="innovation-format-panel" id="formatVideo">
                    <div class="form-group">
                        <label>ðŸŽ¥ Upload Video <small>(MP4, Max 50MB)</small></label>
                        <div class="file-upload-area" id="videoDropArea">
                            <input type="file" id="innovationVideo" name="innovation_video" accept="video/mp4" style="display:none;" onchange="handleFilePreview(this,'videoPreview')">
                            <div class="upload-placeholder" onclick="document.getElementById('innovationVideo').click()">
                                <span class="upload-icon">ðŸŽ¬</span>
                                <p>Click to upload or drag &amp; drop video</p>
                                <small>MP4 format, max 50MB</small>
                            </div>
                            <div class="file-preview" id="videoPreview"></div>
                        </div>
                    </div>
                </div>

                <!-- Audio Upload Panel -->
                <div class="innovation-format-panel" id="formatAudio">
                    <div class="form-group">
                        <label>ðŸŽ¤ Upload Audio <small>(MP3, Max 20MB)</small></label>
                        <div class="file-upload-area" id="audioDropArea">
                            <input type="file" id="innovationAudio" name="innovation_audio" accept="audio/mp3,audio/mpeg" style="display:none;" onchange="handleFilePreview(this,'audioPreview')">
                            <div class="upload-placeholder" onclick="document.getElementById('innovationAudio').click()">
                                <span class="upload-icon">ðŸŽµ</span>
                                <p>Click to upload or drag &amp; drop audio</p>
                                <small>MP3 format, max 20MB</small>
                            </div>
                            <div class="file-preview" id="audioPreview"></div>
                        </div>
                    </div>
                </div>

                <!-- Upload Images Panel -->
                <div class="innovation-format-panel" id="formatImages">
                    <div class="form-group">
                        <label>ðŸ“· Upload Images <small>(JPG/PNG, max 10MB each)</small></label>
                        <div class="file-upload-area">
                            <input type="file" id="innovationImages" name="innovation_images" accept="image/*" multiple style="display:none;" onchange="handleImagePreview(this)">
                            <div class="upload-placeholder" onclick="document.getElementById('innovationImages').click()">
                                <span class="upload-icon">ðŸ“·</span>
                                <p>Click to upload or drag &amp; drop images</p>
                                <small>JPG, PNG formats â€” multiple files allowed</small>
                            </div>
                            <div class="file-preview image-preview-grid" id="imagePreview"></div>
                        </div>
                    </div>
                </div>

                <!-- Record Live Panel -->
                <div class="innovation-format-panel" id="formatRecord">
                    <!-- Audio Recording Card -->
                    <div class="record-card" id="audioRecordCard">
                        <div class="record-card-header">
                            <span class="record-card-icon">ðŸŽ™ï¸</span>
                            <div class="record-card-title">
                                <h4>Live Audio Recording</h4>
                                <p>Record your voice message directly</p>
                            </div>
                        </div>
                        <div class="record-card-body">
                            <div class="record-controls" id="audioControls">
                                <button type="button" class="record-start-btn" id="startAudioBtn" onclick="startLiveRecording('audio')">
                                    <span class="rec-btn-icon">â—</span> Start Recording
                                </button>
                                <button type="button" class="record-stop-btn" id="stopAudioBtn" onclick="stopLiveRecording('audio')" style="display:none;">
                                    <span class="rec-btn-icon">â– </span> Stop Recording
                                </button>
                            </div>
                            <div class="record-status" id="audioRecordStatus" style="display:none;">
                                <div class="recording-indicator">
                                    <span class="rec-dot"></span>
                                    <span class="rec-label">Recording Audio...</span>
                                    <span class="rec-timer" id="audioRecTimer">00:00</span>
                                </div>
                                <div class="rec-waveform">
                                    <span></span><span></span><span></span><span></span><span></span>
                                    <span></span><span></span><span></span><span></span><span></span>
                                </div>
                            </div>
                            <div class="record-preview" id="audioRecordPreview"></div>
                        </div>
                    </div>

                    <!-- Video Recording Card -->
                    <div class="record-card" id="videoRecordCard">
                        <div class="record-card-header">
                            <span class="record-card-icon">ðŸ“¹</span>
                            <div class="record-card-title">
                                <h4>Live Video Recording</h4>
                                <p>Record a video message with camera</p>
                            </div>
                        </div>
                        <div class="record-card-body">
                            <div class="record-controls" id="videoControls">
                                <button type="button" class="record-start-btn" id="startVideoBtn" onclick="startLiveRecording('video')">
                                    <span class="rec-btn-icon">â—</span> Start Recording
                                </button>
                                <button type="button" class="record-stop-btn" id="stopVideoBtn" onclick="stopLiveRecording('video')" style="display:none;">
                                    <span class="rec-btn-icon">â– </span> Stop Recording
                                </button>
                            </div>
                            <div class="record-status" id="videoRecordStatus" style="display:none;">
                                <div class="recording-indicator">
                                    <span class="rec-dot"></span>
                                    <span class="rec-label">Recording Video...</span>
                                    <span class="rec-timer" id="videoRecTimer">00:00</span>
                                </div>
                            </div>
                            <div class="video-live-preview-wrapper" id="videoLiveWrapper" style="display:none;">
                                <video id="livePreview" autoplay muted playsinline></video>
                            </div>
                            <div class="record-preview" id="videoRecordPreview"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Submit -->
            <button type="submit" class="btn btn-primary innovation-submit-btn" id="innovationSubmitBtn">
                ðŸ“¤ Submit Message / Idea
            </button>
        </form>

        <!-- Success Message (hidden) -->
        <div class="innovation-success" id="innovationSuccess" style="display:none;">
            <div class="success-icon">ðŸŒ¾</div>
            <h2 class="success-title">Thank You for Sharing Your Innovation with CTF.AI</h2>
            <p class="success-tagline">This is not a platform â€” it is an innovation-driven agriculture ecosystem.</p>
            <button class="btn btn-outline" onclick="resetInnovationForm()" style="margin-top:24px;">Submit Another Idea</button>
        </div>

        <!-- Submission Counter -->
        <div class="submission-counter-section">
            <div class="counter-card">
                <div class="counter-icon">ðŸŒ¾</div>
                <div class="counter-content">
                    <div class="counter-number-wrapper">
                        <span class="counter-number" id="submissionCount">0</span>
                        <span class="counter-plus" id="counterPlus" style="display:none;">+1</span>
                        <span class="counter-arrow" id="counterArrow">â†‘</span>
                    </div>
                    <p class="counter-label">Farmers Have Already Shared Their Ideas</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Stay Connected Section -->
    <section class="stay-connected">
        <div class="stay-connected-inner">
            <h2 class="stay-connected-title">Stay Connected With CTF.AI <span class="emoji-leaf">ðŸŒ¾</span></h2>
            <p class="stay-connected-subtitle">Join our growing innovation-driven agriculture community.</p>

            <div class="social-icons-row">
                <!-- WhatsApp -->
                <a href="https://whatsapp.com/channel/0029VbC7T0pGZNCs9oPM0219" target="_blank" rel="noopener noreferrer" class="social-icon-link social-whatsapp" title="WhatsApp">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
                </a>

                <!-- YouTube -->
                <a href="https://www.youtube.com/@CTFcommunity" target="_blank" rel="noopener noreferrer" class="social-icon-link social-youtube" title="YouTube">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
                </a>

                <!-- Instagram -->
                <a href="https://www.instagram.com/ctf.ai?igsh=OWlvejhzaWtuNno2" target="_blank" rel="noopener noreferrer" class="social-icon-link social-instagram" title="Instagram">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678a6.162 6.162 0 100 12.324 6.162 6.162 0 100-12.324zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405a1.441 1.441 0 11-2.882 0 1.441 1.441 0 012.882 0z"/></svg>
                </a>

                <!-- LinkedIn -->
                <a href="https://www.linkedin.com/company/ctf-ai" target="_blank" rel="noopener noreferrer" class="social-icon-link social-linkedin" title="LinkedIn">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
                </a>

                <!-- Facebook -->
                <a href="https://www.facebook.com/ctf.ai" target="_blank" rel="noopener noreferrer" class="social-icon-link social-facebook" title="Facebook">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
                </a>
            </div>

            <div class="stay-connected-divider"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About CTF.ai</h3>
                <p>Connecting Customers to Farmers - A revolutionary platform bridging the gap
                    between agricultural producers and consumers.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <a href="#home">Home</a>
                <a href="#features">Features</a>
                <a href="#about">About Us</a>
                <a href="#contact">Contact</a>
            </div>
            <div class="footer-section">
                <h3>Support</h3>
                <a href="#">Help Center</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">FAQs</a>
            </div>
            <div class="footer-section">
                <h3>Contact Us</h3>
                <p>ðŸ“§ communityctf@outlook.com</p>
                <p>ðŸ“ž +91 99xxxxxx89</p>
                <p>ðŸ“ India</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&#169; 2026 CTF.ai - Connecting Customers to Farmers. All rights reserved.</p>
        </div>
    </footer>

<!-- Welcome Modal - Choose Register or Login -->
<div class="modal" id="authModal">
    <div class="auth-card" style="max-width: 480px;">
        <span class="close-modal" onclick="closeAuthModal()">Ã—</span>
        
        <!-- Welcome Screen with Register/Login Options -->
        <div id="welcomeScreen">
            <div style="text-align: center; margin-bottom: 30px;">
                <div style="font-size: 3rem; margin-bottom: 10px;">ðŸŒ¾</div>
                <h2 style="margin-bottom: 8px;">Welcome to CTF.ai</h2>
                <p style="color: var(--dark-gray); font-size: 1rem;">Choose an option to get started</p>
            </div>
            
            <div style="display: flex; flex-direction: column; gap: 16px;">
                <!-- Register Button -->
                <button onclick="openRegisterFromWelcome()" style="display: flex; align-items: center; gap: 16px; width: 100%; padding: 20px 24px; background: linear-gradient(135deg, var(--primary-green), var(--primary-green-light)); color: white; border: none; border-radius: var(--radius-md); cursor: pointer; transition: all var(--transition-base); box-shadow: var(--shadow-md); font-family: var(--font-body);" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='var(--shadow-lg)';" onmouseout="this.style.transform=''; this.style.boxShadow='var(--shadow-md)';">
                    <div style="width: 52px; height: 52px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.6rem; flex-shrink: 0;">ðŸ“</div>
                    <div style="text-align: left;">
                        <div style="font-size: 1.15rem; font-weight: 700;">Create Account</div>
                        <div style="font-size: 0.85rem; opacity: 0.9; font-weight: 400;">New here? Register as Farmer or Customer</div>
                    </div>
                </button>
                
                <!-- Login Button -->
                <button onclick="showLoginForm()" style="display: flex; align-items: center; gap: 16px; width: 100%; padding: 20px 24px; background: var(--white); color: var(--primary-green-dark); border: 2px solid var(--primary-green); border-radius: var(--radius-md); cursor: pointer; transition: all var(--transition-base); box-shadow: var(--shadow-sm); font-family: var(--font-body);" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='var(--shadow-md)'; this.style.background='var(--light-gray)';" onmouseout="this.style.transform=''; this.style.boxShadow='var(--shadow-sm)'; this.style.background='var(--white)';">
                    <div style="width: 52px; height: 52px; background: linear-gradient(135deg, var(--primary-green), var(--primary-green-light)); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.6rem; flex-shrink: 0;">ðŸ”‘</div>
                    <div style="text-align: left;">
                        <div style="font-size: 1.15rem; font-weight: 700;">Login</div>
                        <div style="font-size: 0.85rem; color: var(--dark-gray); font-weight: 400;">Already have an account? Sign in here</div>
                    </div>
                </button>
            </div>
        </div>
        
        <!-- Login Form (hidden initially) -->
        <div id="loginScreen" style="display: none;">
            <div style="text-align: center; margin-bottom: 24px;">
                <div style="font-size: 2.5rem; margin-bottom: 8px;">ðŸ”‘</div>
                <h2 style="margin-bottom: 6px; font-size: 1.6rem;">Login to Your Account</h2>
                <p style="color: var(--dark-gray); font-size: 0.95rem;">Enter your registered mobile number & password</p>
            </div>
            
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>ðŸ“± Mobile Number</label>
                    <input type="tel" id="loginPhone" placeholder="Enter 10-digit mobile number" required pattern="[0-9]{10}" maxlength="10" style="font-size: 18px; letter-spacing: 2px;">
                    <small style="color: #666; font-size: 12px;">10-digit registered mobile number</small>
                </div>
                <div class="form-group">
                    <label>ðŸ”’ Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter 3-character password" required pattern="[A-Za-z0-9]{3}" maxlength="3" style="font-size: 24px; letter-spacing: 8px; text-align: center; font-weight: bold;">
                    <small style="color: #666; font-size: 12px;">3-character password (letters or numbers)</small>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 16px; font-size: 1.05rem;">
                    ðŸš€ Go to Dashboard
                </button>
            </form>
            
            <div style="text-align: center; margin-top: 20px; padding-top: 16px; border-top: 1px solid var(--gray);">
                <p style="color: var(--dark-gray); font-size: 0.9rem; margin-bottom: 8px;">Don't have an account?</p>
                <button onclick="openRegisterFromLogin()" style="background: none; border: none; color: var(--primary-green); font-weight: 600; font-size: 1rem; cursor: pointer; text-decoration: underline; font-family: var(--font-body);">
                    ðŸ“ Create Account
                </button>
            </div>
            
            <button onclick="showWelcomeScreen()" class="btn btn-outline" style="width: 100%; margin-top: 12px; padding: 12px;">
                â† Back
            </button>
        </div>
    </div>
</div>

<!-- AI Assistant -->
<div class="ai-assistant notranslate" onclick="toggleAIChat()"></div>
<div class="ai-chat" id="aiChat">
    <div class="ai-chat-header">
        Ask me anything about local farmers or products
    </div>
    <div class="ai-chat-body" id="chatBody">
        <p style="color: var(--primary-green); text-align: center; margin-top: 2rem; font-weight: 600; padding: 1rem; background: var(--cream); border-radius: var(--radius-md); border: 2px solid var(--gray);">
            Hello! How can I help you today?</p>
    </div>
    <div class="ai-chat-input">
        <input type="text" id="chatInput" placeholder="Type your message...">
        <button onclick="sendMessage()">Send</button>
    </div>
</div>

<!-- Video Demo Modal -->
<div class="video-modal" id="videoModal">
    <div class="video-container">
        <span class="close-video" onclick="closeVideoDemo()">Ã—</span>
        <video controls>
            <source src="https://videos.pexels.com/video-files/3045163/3045163-hd_1920_1080_30fps.mp4"
                    type="video/mp4">
            <source src="https://cdn.pixabay.com/video/2021/08/04/88945-539771979_large.mp4"
                    type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
</div>

<!-- Step-Based Registration Modal -->
<div class="modal" id="registrationModal">
    <div class="auth-card" style="max-width: 500px; max-height: 90vh; overflow-y: auto;">
        <span class="close-modal" onclick="closeRegistrationModal()">Ã—</span>
        <h2>Create Your Account</h2>
        
        <!-- Step Indicator -->
        <div style="display: flex; justify-content: center; gap: 10px; margin-bottom: 30px;">
            <div class="step-indicator active" id="step1Indicator">
                <div class="step-number">1</div>
                <div class="step-label">Details</div>
            </div>
            <div class="step-line"></div>
            <div class="step-indicator" id="step2Indicator">
                <div class="step-number">2</div>
                <div class="step-label">Verify</div>
            </div>
            <div class="step-line"></div>
            <div class="step-indicator" id="step3Indicator">
                <div class="step-number">3</div>
                <div class="step-label">Password</div>
            </div>
        </div>

        <!-- Step 1: Basic Details -->
        <div class="registration-step active" id="step1">
            <h3 style="text-align: center; color: var(--primary-green); margin-bottom: 20px;">Basic Information</h3>
            
            <div class="form-group">
                <label>ðŸ‘¤ Full Name <span style="color: red;">*</span></label>
                <input type="text" id="regName" placeholder="Enter your full name" required pattern="[A-Za-z\s]+" title="Only letters allowed">
                <small style="color: #666; font-size: 12px;">Letters only</small>
            </div>

            <div class="form-group">
                <label>ðŸ“ Village <span style="color: red;">*</span></label>
                <input type="text" id="regVillage" placeholder="Enter your village" required>
            </div>

            <div class="form-group">
                <label>ðŸ“ Mandal <span style="color: red;">*</span></label>
                <input type="text" id="regMandal" placeholder="Enter your mandal" required>
            </div>

            <div class="form-group">
                <label>ðŸ“ District <span style="color: red;">*</span></label>
                <input type="text" id="regDistrict" placeholder="Enter your district" required>
            </div>

            <div class="form-group">
                <label>ðŸ‘¨â€ðŸŒ¾ User Type <span style="color: red;">*</span></label>
                <select id="regUserType" required style="width: 100%; padding: 12px 16px; border: 2px solid var(--gray); border-radius: var(--radius-md); font-size: 1rem;">
                    <option value="">Select user type</option>
                    <option value="Farmer">Farmer</option>
                    <option value="Customer">Customer</option>
                </select>
            </div>

            <div class="form-group">
                <label>ðŸŒ Preferred Language <span style="color: red;">*</span></label>
                <select id="regLanguage" required style="width: 100%; padding: 12px 16px; border: 2px solid var(--gray); border-radius: var(--radius-md); font-size: 1rem;">
                    <option value="">Select language</option>
                    <option value="Telugu">Telugu</option>
                    <option value="Hindi">Hindi</option>
                    <option value="English">English</option>
                </select>
            </div>

            <button type="button" class="btn btn-primary" style="width: 100%; margin-top: 10px;" onclick="goToStep2()">
                Continue to Mobile Verification â†’
            </button>
        </div>

        <!-- Step 2: Mobile + OTP -->
        <div class="registration-step" id="step2">
            <h3 style="text-align: center; color: var(--primary-green); margin-bottom: 20px;">Mobile Verification</h3>
            
            <div class="form-group">
                <label>ðŸ“± Mobile Number <span style="color: red;">*</span></label>
                <input type="tel" id="regPhone" placeholder="Enter 10-digit mobile number" required pattern="[0-9]{10}" maxlength="10" style="font-size: 18px; letter-spacing: 2px;">
                <small style="color: #666; font-size: 12px;">10 digits only</small>
            </div>

            <button type="button" class="btn btn-primary" style="width: 100%;" id="sendOTPBtn" onclick="sendOTP()">
                Send OTP
            </button>

            <!-- OTP Success Banner -->
            <div class="otp-success-banner" id="otpSuccessBanner">
                <div class="banner-title">ðŸŽ‰ Grandly Welcome to CTF Community!</div>
                <div class="banner-phone" id="bannerPhoneText"></div>
                <div class="banner-console" id="bannerConsoleText"></div>
                <div class="otp-countdown-bar"><div class="bar-fill" id="otpBarFill" style="width: 100%;"></div></div>
            </div>

            <!-- OTP Countdown Text (below banner) -->
            <div class="otp-countdown-text" id="otpCountdownText" style="display: none;"></div>

            <div id="otpSection" style="display: none; margin-top: 20px;">
                <div class="form-group">
                    <label>ðŸ” Enter OTP <span style="color: red;">*</span></label>
                    <input type="text" id="regOTP" placeholder="Enter 6-digit OTP" required pattern="[0-9]{6}" maxlength="6" style="font-size: 24px; letter-spacing: 8px; text-align: center; font-weight: bold;" inputmode="numeric" autocomplete="one-time-code">
                    <small style="color: #666; font-size: 12px;">Check your SMS for OTP</small>
                    <div class="otp-timer" id="otpTimerDisplay"></div>
                </div>

                <button type="button" class="btn btn-primary" style="width: 100%;" id="verifyOTPBtn" onclick="verifyOTP()">
                    Verify OTP
                </button>

                <button type="button" id="resendOTPBtn" style="width: 100%; margin-top: 10px; background: transparent; border: none; color: var(--primary-green); cursor: pointer; padding: 10px; font-size: 14px;" onclick="resendOTP()">
                    Resend OTP
                </button>
            </div>

            <div style="text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--gray);">
                <p style="font-size: 14px; color: var(--dark-gray); margin-bottom: 10px;">For testing/demo purposes:</p>
                <button type="button" class="btn btn-outline" style="width: 100%;" onclick="skipOTPVerification()">
                    Skip OTP & Continue â†’
                </button>
            </div>

            <button type="button" class="btn btn-outline" style="width: 100%; margin-top: 10px;" onclick="goToStep1()">
                â† Back
            </button>
        </div>

        <!-- Step 3: Password -->
        <div class="registration-step" id="step3">
            <h3 style="text-align: center; color: var(--primary-green); margin-bottom: 20px;">Create Password</h3>
            
            <div class="form-group">
                <label>ðŸ”’ Password <span style="color: red;">*</span></label>
                <input type="password" id="regPassword" placeholder="Enter 3-character password" required pattern="[A-Za-z0-9]{3}" maxlength="3" style="font-size: 24px; letter-spacing: 8px; text-align: center; font-weight: bold;">
                <small style="color: #666; font-size: 12px;">Password must be exactly 3 letters or numbers (e.g., A9k, 123, k7P)</small>
            </div>

            <div class="form-group">
                <label>ðŸ”’ Confirm Password <span style="color: red;">*</span></label>
                <input type="password" id="regConfirmPassword" placeholder="Confirm password" required pattern="[A-Za-z0-9]{3}" maxlength="3" style="font-size: 24px; letter-spacing: 8px; text-align: center; font-weight: bold;">
            </div>

            <button type="button" class="btn btn-primary" style="width: 100%;" onclick="completeRegistration()">
                Create Account
            </button>

            <button type="button" class="btn btn-outline" style="width: 100%; margin-top: 10px;" onclick="goToStep2()">
                â† Back
            </button>
        </div>
    </div>
</div>

<!-- Notification Toast -->
<div class="notification" id="notification">
    <span class="notif-icon"></span>
    <span class="notif-text"></span>
    <button class="notif-close" onclick="dismissNotification()">&times;</button>
</div>

<script>
    // Mobile Menu Toggle
    function toggleMobileMenu() {
        const navMenu = document.getElementById('navMenu');
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const isOpen = navMenu.classList.contains('mobile-open');

        if (isOpen) {
            closeMobileMenu();
        } else {
            navMenu.classList.add('mobile-open');
            hamburgerBtn.classList.add('active');
            // Create overlay
            let overlay = document.querySelector('.mobile-overlay');
            if (!overlay) {
                overlay = document.createElement('div');
                overlay.className = 'mobile-overlay';
                overlay.onclick = closeMobileMenu;
                document.body.appendChild(overlay);
            }
            overlay.style.display = 'block';
        }
    }

    function closeMobileMenu() {
        const navMenu = document.getElementById('navMenu');
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        navMenu.classList.remove('mobile-open');
        hamburgerBtn.classList.remove('active');
        const overlay = document.querySelector('.mobile-overlay');
        if (overlay) overlay.style.display = 'none';
    }

    // Close mobile menu when a nav link is clicked
    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('#navMenu a').forEach(function(link) {
            link.addEventListener('click', closeMobileMenu);
        });
    });

    // Navigation - Smooth scroll to sections
    function showSection(section) {
        const target = document.getElementById(section);
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
            // Ensure navbar offset is considered
            window.scrollBy(0, -80);
        }
    }

    // Auth Modal
    function openAuthModal() {
        document.getElementById('authModal').classList.add('active');
        showWelcomeScreen();
    }

    function closeAuthModal() {
        document.getElementById('authModal').classList.remove('active');
        showWelcomeScreen();
    }

    function showWelcomeScreen() {
        document.getElementById('welcomeScreen').style.display = 'block';
        document.getElementById('loginScreen').style.display = 'none';
    }

    function showLoginForm() {
        document.getElementById('welcomeScreen').style.display = 'none';
        document.getElementById('loginScreen').style.display = 'block';
    }

    function openRegisterFromWelcome() {
        closeAuthModal();
        openRegistrationModal();
    }

    function openRegisterFromLogin() {
        closeAuthModal();
        openRegistrationModal();
    }

    function handleLogin(e) {
        e.preventDefault();
        const phone = document.getElementById('loginPhone').value.trim();
        const password = document.getElementById('loginPassword').value.trim();
        
        if (!phone || !/^[0-9]{10}$/.test(phone)) {
            showNotification('Please enter a valid 10-digit mobile number');
            return;
        }
        
        if (!password || !/^[A-Za-z0-9]{3}$/.test(password)) {
            showNotification('Password must be exactly 3 alphanumeric characters');
            return;
        }
        
        fetch('/api/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ phone, password })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // Store user data in localStorage for dashboard
                if (data.user) {
                    localStorage.setItem('user', JSON.stringify(data.user));
                }
                closeAuthModal();
                showNotification('Welcome back! You have successfully logged in.');
                setTimeout(() => {
                    window.location.href = '/dashboard';
                }, 1000);
            } else {
                showNotification(data.message || 'Login failed. Please try again.');
            }
        })
        .catch(error => {
            console.error('Error:', error);
            showNotification('An error occurred. Please try again.');
        });
    }

    // Step-Based Registration Functions
    let currentStep = 1;
    let registrationData = {};
    let otpVerified = false;
    let otpCountdownTimer = null;
    let otpExpiresAt = null;
    let resendCooldownTimer = null;
    let generatedOTP = null;
    let otpTimerSeconds = 60;
    let otpSendInProgress = false;

    function openRegistrationModal() {
        document.getElementById('registrationModal').classList.add('active');
        currentStep = 1;
        registrationData = {};
        otpVerified = false;
        showStep(1);
    }

    function closeRegistrationModal() {
        document.getElementById('registrationModal').classList.remove('active');
        // Reset form
        document.getElementById('regName').value = '';
        document.getElementById('regVillage').value = '';
        document.getElementById('regMandal').value = '';
        document.getElementById('regDistrict').value = '';
        document.getElementById('regUserType').value = '';
        document.getElementById('regLanguage').value = '';
        document.getElementById('regPhone').value = '';
        document.getElementById('regOTP').value = '';
        document.getElementById('regPassword').value = '';
        document.getElementById('regConfirmPassword').value = '';
        document.getElementById('otpSection').style.display = 'none';
        // Reset Send OTP button
        const sendBtn = document.getElementById('sendOTPBtn');
        sendBtn.disabled = false;
        sendBtn.textContent = 'Send OTP';
        sendBtn.style.background = '';
        sendBtn.classList.remove('btn-loading');
        // Remove verified badge if present
        const badge = document.getElementById('otpVerifiedBadge');
        if (badge) badge.remove();
        // Hide success banner
        const banner = document.getElementById('otpSuccessBanner');
        if (banner) banner.classList.remove('visible');
        // Hide countdown text
        const countdownTextEl = document.getElementById('otpCountdownText');
        if (countdownTextEl) { countdownTextEl.textContent = ''; countdownTextEl.style.display = 'none'; }
        // Clear timers
        if (otpCountdownTimer) { clearInterval(otpCountdownTimer); otpCountdownTimer = null; }
        if (resendCooldownTimer) { clearInterval(resendCooldownTimer); resendCooldownTimer = null; }
        const timerEl = document.getElementById('otpTimerDisplay');
        if (timerEl) timerEl.textContent = '';
        currentStep = 1;
        registrationData = {};
        otpVerified = false;
        generatedOTP = null;
        otpSendInProgress = false;
    }

    function showStep(step) {
        // Hide all steps
        document.querySelectorAll('.registration-step').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.step-indicator').forEach(s => s.classList.remove('active'));

        // Show current step
        document.getElementById(`step${step}`).classList.add('active');
        document.getElementById(`step${step}Indicator`).classList.add('active');

        // Activate previous step indicators
        for (let i = 1; i < step; i++) {
            document.getElementById(`step${i}Indicator`).classList.add('active');
        }

        currentStep = step;
    }

    function goToStep1() {
        showStep(1);
    }

    function goToStep2() {
        // Validate Step 1
        const name = document.getElementById('regName').value.trim();
        const village = document.getElementById('regVillage').value.trim();
        const mandal = document.getElementById('regMandal').value.trim();
        const district = document.getElementById('regDistrict').value.trim();
        const userType = document.getElementById('regUserType').value;
        const language = document.getElementById('regLanguage').value;

        if (!name || !/^[A-Za-z\s]+$/.test(name)) {
            showNotification('Please enter a valid name (letters only)');
            return;
        }

        if (!village || !mandal || !district) {
            showNotification('Please fill all location fields');
            return;
        }

        if (!userType) {
            showNotification('Please select user type');
            return;
        }

        if (!language) {
            showNotification('Please select preferred language');
            return;
        }

        // Save Step 1 data
        registrationData = {
            name,
            village,
            mandal,
            district,
            userType,
            language,
            location: `${village}, ${mandal}, ${district}`
        };

        showStep(2);
    }

    function generateRandomOTP() {
        return String(Math.floor(100000 + Math.random() * 900000));
    }

    function sendOTP() {
        const phone = document.getElementById('regPhone').value.trim();
        
        if (!phone || !/^[0-9]{10}$/.test(phone)) {
            showNotification('Please enter a valid 10-digit mobile number', 'error');
            return;
        }

        // Prevent multiple rapid clicks
        if (otpSendInProgress) return;
        otpSendInProgress = true;

        const sendBtn = document.getElementById('sendOTPBtn');
        sendBtn.disabled = true;
        sendBtn.classList.add('btn-loading');
        sendBtn.textContent = 'Sending OTP...';

        // Generate OTP client-side
        generatedOTP = generateRandomOTP();
        console.log('%cðŸ“± CTF Community OTP: ' + generatedOTP, 'color: #2d8a4e; font-size: 18px; font-weight: bold; background: #e6ffed; padding: 8px 12px; border-radius: 6px;');

        // Simulate a short delay for realism
        setTimeout(function() {
            sendBtn.classList.remove('btn-loading');
            otpSendInProgress = false;

            // Show OTP section
            document.getElementById('otpSection').style.display = 'block';
            sendBtn.textContent = 'OTP Sent âœ“';
            sendBtn.style.background = '#38a169';

            // Show success banner
            const banner = document.getElementById('otpSuccessBanner');
            banner.classList.add('visible');
            document.getElementById('bannerPhoneText').textContent = 'Your OTP has been sent to +91' + phone;
            document.getElementById('bannerConsoleText').textContent = '(Check console for OTP: ' + generatedOTP + ')';

            showNotification('ðŸŽ‰ OTP sent successfully to +91' + phone, 'success');

            // Start 60-second countdown
            otpExpiresAt = Date.now() + (otpTimerSeconds * 1000);
            startOTPCountdown(otpTimerSeconds);
            startResendCooldown(otpTimerSeconds);
        }, 800);
    }

    function startOTPCountdown(seconds) {
        if (otpCountdownTimer) clearInterval(otpCountdownTimer);
        let remaining = seconds;
        const totalSeconds = seconds;
        const timerEl = document.getElementById('otpTimerDisplay');
        const countdownTextEl = document.getElementById('otpCountdownText');
        const barFill = document.getElementById('otpBarFill');

        if (countdownTextEl) {
            countdownTextEl.style.display = 'block';
            countdownTextEl.classList.remove('expired-text');
        }
        if (barFill) barFill.style.width = '100%';
        
        function updateTimer() {
            if (remaining <= 0) {
                clearInterval(otpCountdownTimer);
                otpCountdownTimer = null;
                generatedOTP = null;
                if (timerEl) timerEl.innerHTML = '<span class="expired">OTP expired. Please request a new one.</span>';
                if (countdownTextEl) {
                    countdownTextEl.textContent = 'â° OTP expired. Click Resend OTP to get a new code.';
                    countdownTextEl.classList.add('expired-text');
                }
                if (barFill) barFill.style.width = '0%';
                // Hide the success banner
                const banner = document.getElementById('otpSuccessBanner');
                if (banner) banner.classList.remove('visible');
                return;
            }
            const secs = remaining;
            if (timerEl) timerEl.innerHTML = 'OTP expires in <span class="countdown">' + secs + 's</span>';
            if (countdownTextEl) countdownTextEl.textContent = 'â³ OTP expires in: ' + secs + ' seconds';
            if (barFill) barFill.style.width = ((remaining / totalSeconds) * 100) + '%';
            remaining--;
        }
        updateTimer();
        otpCountdownTimer = setInterval(updateTimer, 1000);
    }

    function startResendCooldown(seconds) {
        if (resendCooldownTimer) clearInterval(resendCooldownTimer);
        let remaining = seconds;
        const resendBtn = document.getElementById('resendOTPBtn');
        if (!resendBtn) return;
        resendBtn.disabled = true;
        resendBtn.style.opacity = '0.5';

        function updateCooldown() {
            if (remaining <= 0) {
                clearInterval(resendCooldownTimer);
                resendCooldownTimer = null;
                resendBtn.disabled = false;
                resendBtn.style.opacity = '1';
                resendBtn.textContent = 'Resend OTP';
                return;
            }
            resendBtn.textContent = 'Resend OTP (' + remaining + 's)';
            remaining--;
        }
        updateCooldown();
        resendCooldownTimer = setInterval(updateCooldown, 1000);
    }

    function verifyOTP() {
        const phone = document.getElementById('regPhone').value.trim();
        const enteredOTP = document.getElementById('regOTP').value.trim();

        if (!enteredOTP || !/^[0-9]{6}$/.test(enteredOTP)) {
            showNotification('Please enter a valid 6-digit OTP', 'error');
            return;
        }

        const verifyBtn = document.getElementById('verifyOTPBtn');
        verifyBtn.disabled = true;
        verifyBtn.classList.add('btn-loading');
        verifyBtn.textContent = 'Verifying...';

        // Client-side OTP verification
        setTimeout(function() {
            verifyBtn.classList.remove('btn-loading');

            if (!generatedOTP) {
                verifyBtn.disabled = false;
                verifyBtn.textContent = 'Verify OTP';
                showNotification('OTP has expired. Please request a new one.', 'error');
                return;
            }

            if (enteredOTP === generatedOTP) {
                otpVerified = true;
                registrationData.phone = phone;
                registrationData.otpVerified = true;
                showNotification('âœ… Mobile number verified successfully!', 'success');

                // Stop countdown
                if (otpCountdownTimer) { clearInterval(otpCountdownTimer); otpCountdownTimer = null; }
                if (resendCooldownTimer) { clearInterval(resendCooldownTimer); resendCooldownTimer = null; }
                const timerEl = document.getElementById('otpTimerDisplay');
                if (timerEl) timerEl.innerHTML = '';
                const countdownTextEl = document.getElementById('otpCountdownText');
                if (countdownTextEl) countdownTextEl.style.display = 'none';

                // Hide success banner
                const banner = document.getElementById('otpSuccessBanner');
                if (banner) banner.classList.remove('visible');

                // Show verified badge
                const otpSection = document.getElementById('otpSection');
                let badge = document.getElementById('otpVerifiedBadge');
                if (!badge) {
                    badge = document.createElement('div');
                    badge.id = 'otpVerifiedBadge';
                    badge.className = 'otp-verified-badge';
                    badge.innerHTML = 'âœ… Mobile Number Verified';
                    otpSection.parentNode.insertBefore(badge, otpSection.nextSibling);
                }

                // Proceed to next step
                setTimeout(function() { showStep(3); }, 800);
            } else {
                verifyBtn.disabled = false;
                verifyBtn.textContent = 'Verify OTP';
                showNotification('âŒ Invalid OTP. Please check and try again.', 'error');
            }
        }, 600);
    }

    function resendOTP() {
        const resendBtn = document.getElementById('resendOTPBtn');
        // Block resend if cooldown is still active
        if (resendBtn && resendBtn.disabled) {
            showNotification('â³ Please wait for the countdown to finish before resending', 'info');
            return;
        }

        document.getElementById('regOTP').value = '';
        const sendBtn = document.getElementById('sendOTPBtn');
        sendBtn.disabled = false;
        sendBtn.textContent = 'Send OTP';
        sendBtn.style.background = '';

        // Clear old countdown
        if (otpCountdownTimer) { clearInterval(otpCountdownTimer); otpCountdownTimer = null; }
        if (resendCooldownTimer) { clearInterval(resendCooldownTimer); resendCooldownTimer = null; }
        const timerEl = document.getElementById('otpTimerDisplay');
        if (timerEl) timerEl.textContent = '';
        const countdownTextEl = document.getElementById('otpCountdownText');
        if (countdownTextEl) { countdownTextEl.textContent = ''; countdownTextEl.style.display = 'none'; }

        // Hide old banner before showing new one
        const banner = document.getElementById('otpSuccessBanner');
        if (banner) banner.classList.remove('visible');

        generatedOTP = null;
        sendOTP();
    }

    function skipOTPVerification() {
        const phone = document.getElementById('regPhone').value.trim();
        
        if (!phone || !/^[0-9]{10}$/.test(phone)) {
            showNotification('Please enter a valid 10-digit mobile number first', 'error');
            return;
        }

        // Mark as verified and proceed
        otpVerified = true;
        registrationData.phone = phone;
        registrationData.otpVerified = false;
        showNotification('Proceeding without OTP verification (Demo Mode)', 'info');
        
        setTimeout(() => {
            showStep(3);
        }, 500);
    }

    function completeRegistration() {
        if (!otpVerified) {
            showNotification('Please verify your mobile number first', 'error');
            goToStep2();
            return;
        }

        const password = document.getElementById('regPassword').value.trim();
        const confirmPassword = document.getElementById('regConfirmPassword').value.trim();

        if (!password || !/^[A-Za-z0-9]{3}$/.test(password)) {
            showNotification('Password must be exactly 3 alphanumeric characters', 'error');
            return;
        }

        if (password !== confirmPassword) {
            showNotification('Passwords do not match', 'error');
            return;
        }

        registrationData.password = password;

        // Show loading on button
        const createBtn = document.querySelector('#step3 .btn-primary');
        createBtn.disabled = true;
        createBtn.classList.add('btn-loading');
        createBtn.textContent = 'Creating Account...';

        // Register user
        fetch('/api/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(registrationData)
        })
        .then(response => response.json())
        .then(data => {
            createBtn.classList.remove('btn-loading');
            createBtn.disabled = false;
            createBtn.textContent = 'Create Account';

            if (data.success) {
                // Store user data
                if (data.user) {
                    localStorage.setItem('user', JSON.stringify(data.user));
                }
                closeRegistrationModal();
                showNotification('Account created successfully. Welcome to CTF.ai!', 'success');
                setTimeout(() => {
                    window.location.href = '/dashboard';
                }, 1500);
            } else {
                showNotification(data.message || 'Registration failed. Please try again.', 'error');
            }
        })
        .catch(error => {
            console.error('Registration error:', error);
            createBtn.classList.remove('btn-loading');
            createBtn.disabled = false;
            createBtn.textContent = 'Create Account';
            showNotification('An error occurred. Please try again.', 'error');
        });
    }

    function handleRegister(e) {
        e.preventDefault();
        // Old function kept for compatibility, but registration now uses step-based flow
        openRegistrationModal();
    }

    // Video Demo
    function openVideoDemo() {
        const modal = document.getElementById('videoModal');
        modal.classList.add('active');
        const video = modal.querySelector('video');
        video.play();
    }

    function closeVideoDemo() {
        const modal = document.getElementById('videoModal');
        modal.classList.remove('active');
        const video = modal.querySelector('video');
        video.pause();
        video.currentTime = 0;
    }

    // AI Chat
    function toggleAIChat() {
        const chat = document.getElementById('aiChat');
        chat.classList.toggle('active');
    }

    function sendMessage() {
        const input = document.getElementById('chatInput');
        const message = input.value.trim();

        if (message) {
            const chatBody = document.getElementById('chatBody');

            // User message
            const userMsg = document.createElement('div');
            userMsg.style.cssText = 'background: linear-gradient(135deg, #90EE90, #76c893); color: white; padding: 1rem 1.2rem; border-radius: 15px; margin-bottom: 1rem; text-align: right; margin-left: 20%; font-weight: 500; box-shadow: 0 4px 10px rgba(144, 238, 144, 0.4);';
            userMsg.textContent = message;
            chatBody.appendChild(userMsg);

            input.value = '';

            // AI response (simulated)
            setTimeout(() => {
                const aiMsg = document.createElement('div');
                aiMsg.style.cssText = 'background: rgba(144, 238, 144, 0.25); color: #2d5016; padding: 1rem 1.2rem; border-radius: 15px; margin-bottom: 1rem; margin-right: 20%; border: 2px solid rgba(144, 238, 144, 0.5); font-weight: 500;';
                aiMsg.textContent = 'Thank you for your query! Our AI system is analyzing local farmers and products in your area. How can I assist you further?';
                chatBody.appendChild(aiMsg);
                chatBody.scrollTop = chatBody.scrollHeight;
            }, 1000);

            chatBody.scrollTop = chatBody.scrollHeight;
        }
    }

    // ==========================================
    // ADS SLIDER LOGIC
    // ==========================================
    (function() {
        var currentSlide = 0;
        var totalSlides = 7;
        var autoInterval = null;
        var slides = document.querySelectorAll('.slider-slide');
        var dots = document.querySelectorAll('.slider-dot');

        function goToSlide(index) {
            // Wrap around for infinite loop
            if (index >= totalSlides) index = 0;
            if (index < 0) index = totalSlides - 1;

            // Exit current slide to the left
            slides[currentSlide].classList.remove('active');
            slides[currentSlide].classList.add('exit-left');
            dots[currentSlide].classList.remove('active');

            // After transition clear exit class
            var prevIndex = currentSlide;
            setTimeout(function() {
                slides[prevIndex].classList.remove('exit-left');
            }, 700);

            // Activate new slide (enters from right via default transform)
            currentSlide = index;
            slides[currentSlide].classList.add('active');
            dots[currentSlide].classList.add('active');
        }

        function nextSlide() {
            goToSlide(currentSlide + 1);
        }

        function prevSlide() {
            goToSlide(currentSlide - 1);
        }

        function startAutoScroll() {
            stopAutoScroll();
            autoInterval = setInterval(nextSlide, 3000);
        }

        function stopAutoScroll() {
            if (autoInterval) { clearInterval(autoInterval); autoInterval = null; }
        }

        // Expose globally for onclick
        window.sliderNext = function() { nextSlide(); startAutoScroll(); };
        window.sliderPrev = function() { prevSlide(); startAutoScroll(); };
        window.sliderGoTo = function(i) { goToSlide(i); startAutoScroll(); };

        // Pause on hover
        var sliderEl = document.querySelector('.hero-slider');
        if (sliderEl) {
            sliderEl.addEventListener('mouseenter', stopAutoScroll);
            sliderEl.addEventListener('mouseleave', startAutoScroll);
        }

        // Touch swipe support
        var touchStartX = 0;
        if (sliderEl) {
            sliderEl.addEventListener('touchstart', function(e) {
                touchStartX = e.changedTouches[0].screenX;
                stopAutoScroll();
            }, { passive: true });
            sliderEl.addEventListener('touchend', function(e) {
                var diff = e.changedTouches[0].screenX - touchStartX;
                if (Math.abs(diff) > 40) {
                    if (diff < 0) nextSlide(); else prevSlide();
                }
                startAutoScroll();
            }, { passive: true });
        }

        // Start
        startAutoScroll();
    })();

    // ==========================================
    // INNOVATION CONTACT FORM LOGIC
    // ==========================================

    // Toggle innovation format panels
    function toggleInnovationFormat(format) {
        document.querySelectorAll('.innovation-format-panel').forEach(function(p) { p.classList.remove('active'); });
        var panelMap = { text: 'formatText', video: 'formatVideo', audio: 'formatAudio', images: 'formatImages', record: 'formatRecord' };
        var panel = document.getElementById(panelMap[format]);
        if (panel) panel.classList.add('active');
    }

    // File preview handler
    function handleFilePreview(input, previewId) {
        var preview = document.getElementById(previewId);
        preview.innerHTML = '';
        if (input.files && input.files[0]) {
            var file = input.files[0];
            var maxSize = input.accept.indexOf('video') !== -1 ? 50 * 1024 * 1024 : 20 * 1024 * 1024;
            if (file.size > maxSize) {
                showNotification('File is too large. Max size: ' + (maxSize / 1024 / 1024) + 'MB', 'error');
                input.value = '';
                return;
            }
            var sizeMB = (file.size / 1024 / 1024).toFixed(2);
            preview.innerHTML = '<div class="file-preview-item"><span class="file-name">' + file.name + '</span><span class="file-size">' + sizeMB + ' MB</span><button type="button" class="file-remove" onclick="removeFile(\'' + input.id + '\',\'' + previewId + '\')">&times;</button></div>';
        }
    }

    function handleImagePreview(input) {
        var preview = document.getElementById('imagePreview');
        preview.innerHTML = '';
        if (input.files) {
            Array.from(input.files).forEach(function(file) {
                if (file.size > 10 * 1024 * 1024) {
                    showNotification('Image ' + file.name + ' exceeds 10MB limit', 'error');
                    return;
                }
                var reader = new FileReader();
                reader.onload = function(e) {
                    var img = document.createElement('img');
                    img.src = e.target.result;
                    img.className = 'image-preview-thumb';
                    preview.appendChild(img);
                };
                reader.readAsDataURL(file);
            });
        }
    }

    function removeFile(inputId, previewId) {
        document.getElementById(inputId).value = '';
        document.getElementById(previewId).innerHTML = '';
    }

    // ==========================================
    // LIVE RECORDING (Audio / Video) - Professional UI
    // ==========================================
    var audioMediaRecorder = null;
    var videoMediaRecorder = null;
    var audioRecordedChunks = [];
    var videoRecordedChunks = [];
    var audioRecordedBlob = null;
    var videoRecordedBlob = null;
    var recordedBlob = null; // keeps last recorded blob for form submission
    var audioTimerInterval = null;
    var videoTimerInterval = null;
    var audioStartTime = 0;
    var videoStartTime = 0;
    var activeAudioStream = null;
    var activeVideoStream = null;

    function formatRecTime(seconds) {
        var mins = String(Math.floor(seconds / 60)).padStart(2, '0');
        var secs = String(seconds % 60).padStart(2, '0');
        return mins + ':' + secs;
    }

    function startLiveRecording(type) {
        if (type === 'audio' && audioMediaRecorder && audioMediaRecorder.state === 'recording') return;
        if (type === 'video' && videoMediaRecorder && videoMediaRecorder.state === 'recording') return;

        var constraints = type === 'video'
            ? { audio: true, video: { facingMode: 'user', width: { ideal: 640 }, height: { ideal: 480 } } }
            : { audio: true };

        navigator.mediaDevices.getUserMedia(constraints)
            .then(function(stream) {
                if (type === 'audio') {
                    activeAudioStream = stream;
                    audioRecordedChunks = [];
                    audioMediaRecorder = new MediaRecorder(stream);
                    audioMediaRecorder.ondataavailable = function(e) {
                        if (e.data.size > 0) audioRecordedChunks.push(e.data);
                    };
                    audioMediaRecorder.onstop = function() {
                        stream.getTracks().forEach(function(t) { t.stop(); });
                        activeAudioStream = null;
                        audioRecordedBlob = new Blob(audioRecordedChunks, { type: 'audio/webm' });
                        recordedBlob = audioRecordedBlob;
                        showLiveRecordedPreview('audio', audioRecordedBlob);
                        clearInterval(audioTimerInterval);
                        document.getElementById('audioRecordStatus').style.display = 'none';
                        document.getElementById('startAudioBtn').style.display = '';
                        document.getElementById('stopAudioBtn').style.display = 'none';
                    };
                    audioMediaRecorder.start();

                    // UI updates
                    document.getElementById('startAudioBtn').style.display = 'none';
                    document.getElementById('stopAudioBtn').style.display = '';
                    document.getElementById('audioRecordStatus').style.display = 'block';
                    document.getElementById('audioRecTimer').textContent = '00:00';
                    audioStartTime = Date.now();
                    audioTimerInterval = setInterval(function() {
                        var elapsed = Math.floor((Date.now() - audioStartTime) / 1000);
                        document.getElementById('audioRecTimer').textContent = formatRecTime(elapsed);
                    }, 1000);

                } else {
                    activeVideoStream = stream;
                    videoRecordedChunks = [];

                    // Show live camera preview
                    var livePreview = document.getElementById('livePreview');
                    var liveWrapper = document.getElementById('videoLiveWrapper');
                    livePreview.srcObject = stream;
                    liveWrapper.style.display = 'block';

                    videoMediaRecorder = new MediaRecorder(stream);
                    videoMediaRecorder.ondataavailable = function(e) {
                        if (e.data.size > 0) videoRecordedChunks.push(e.data);
                    };
                    videoMediaRecorder.onstop = function() {
                        stream.getTracks().forEach(function(t) { t.stop(); });
                        activeVideoStream = null;
                        livePreview.srcObject = null;
                        liveWrapper.style.display = 'none';
                        videoRecordedBlob = new Blob(videoRecordedChunks, { type: 'video/webm' });
                        recordedBlob = videoRecordedBlob;
                        showLiveRecordedPreview('video', videoRecordedBlob);
                        clearInterval(videoTimerInterval);
                        document.getElementById('videoRecordStatus').style.display = 'none';
                        document.getElementById('startVideoBtn').style.display = '';
                        document.getElementById('stopVideoBtn').style.display = 'none';
                    };
                    videoMediaRecorder.start();

                    // UI updates
                    document.getElementById('startVideoBtn').style.display = 'none';
                    document.getElementById('stopVideoBtn').style.display = '';
                    document.getElementById('videoRecordStatus').style.display = 'block';
                    document.getElementById('videoRecTimer').textContent = '00:00';
                    videoStartTime = Date.now();
                    videoTimerInterval = setInterval(function() {
                        var elapsed = Math.floor((Date.now() - videoStartTime) / 1000);
                        document.getElementById('videoRecTimer').textContent = formatRecTime(elapsed);
                    }, 1000);
                }
            })
            .catch(function(err) {
                showNotification('Could not access ' + type + ' device. Please allow permissions.', 'error');
            });
    }

    function stopLiveRecording(type) {
        if (type === 'audio') {
            if (audioMediaRecorder && audioMediaRecorder.state === 'recording') {
                audioMediaRecorder.stop();
            }
        } else {
            if (videoMediaRecorder && videoMediaRecorder.state === 'recording') {
                videoMediaRecorder.stop();
            }
        }
    }

    function showLiveRecordedPreview(type, blob) {
        var previewId = type === 'audio' ? 'audioRecordPreview' : 'videoRecordPreview';
        var preview = document.getElementById(previewId);
        var sizeMB = (blob.size / 1024 / 1024).toFixed(2);
        var icon = type === 'video' ? 'ðŸ“¹' : 'ðŸŽ™ï¸';
        var label = type === 'video' ? 'Recorded Video' : 'Recorded Audio';

        preview.innerHTML =
            '<div class="record-preview-item">' +
                '<span class="preview-icon">' + icon + '</span>' +
                '<div class="preview-info">' +
                    '<div class="preview-label">' + label + '</div>' +
                    '<div class="preview-size">' + sizeMB + ' MB</div>' +
                '</div>' +
                '<button type="button" class="preview-play-btn" onclick="playRecordedPreview(\'' + type + '\')">â–¶ Play</button>' +
                '<button type="button" class="preview-remove-btn" onclick="clearLiveRecording(\'' + type + '\')" title="Remove">&times;</button>' +
            '</div>';
    }

    function playRecordedPreview(type) {
        var blob = type === 'audio' ? audioRecordedBlob : videoRecordedBlob;
        if (!blob) { showNotification('No recording to play', 'info'); return; }

        var url = URL.createObjectURL(blob);
        var overlay = document.createElement('div');
        overlay.className = 'playback-overlay';

        var mediaTag = type === 'video'
            ? '<video controls autoplay src="' + url + '"></video>'
            : '<audio controls autoplay src="' + url + '" style="width:100%;"></audio>';

        overlay.innerHTML =
            '<div class="playback-container">' +
                '<button class="close-playback" onclick="this.closest(\'.playback-overlay\').remove()">&times;</button>' +
                mediaTag +
            '</div>';

        overlay.addEventListener('click', function(e) {
            if (e.target === overlay) overlay.remove();
        });

        document.body.appendChild(overlay);
    }

    function clearLiveRecording(type) {
        if (type === 'audio') {
            audioRecordedBlob = null;
            document.getElementById('audioRecordPreview').innerHTML = '';
        } else {
            videoRecordedBlob = null;
            document.getElementById('videoRecordPreview').innerHTML = '';
        }
        // Update the main recordedBlob reference
        recordedBlob = audioRecordedBlob || videoRecordedBlob || null;
    }

    // Keep legacy function for backward compatibility
    function clearRecording() {
        clearLiveRecording('audio');
        clearLiveRecording('video');
        recordedBlob = null;
    }

    // ==========================================
    // SUBMISSION COUNTER
    // ==========================================
    var submissionCountValue = 0;

    function fetchSubmissionCount() {
        fetch('/api/contact/count')
            .then(function(res) { return res.json(); })
            .then(function(data) {
                if (data.success) {
                    animateCounter(data.count);
                }
            })
            .catch(function() {});
    }

    function animateCounter(targetValue) {
        var el = document.getElementById('submissionCount');
        var start = submissionCountValue;
        var end = targetValue;
        if (start === end) return;
        var duration = 1500;
        var startTime = null;
        function step(ts) {
            if (!startTime) startTime = ts;
            var progress = Math.min((ts - startTime) / duration, 1);
            var eased = 1 - Math.pow(1 - progress, 3);
            var current = Math.floor(start + (end - start) * eased);
            el.textContent = current.toLocaleString();
            if (progress < 1) {
                requestAnimationFrame(step);
            } else {
                el.textContent = end.toLocaleString();
                submissionCountValue = end;
            }
        }
        requestAnimationFrame(step);
    }

    function showPlusOneAnimation() {
        var plusEl = document.getElementById('counterPlus');
        plusEl.style.display = 'inline';
        plusEl.style.animation = 'none';
        void plusEl.offsetWidth;
        plusEl.style.animation = 'plusPop 0.8s ease forwards';
        setTimeout(function() { plusEl.style.display = 'none'; }, 900);
    }

    // Load counter on page load
    document.addEventListener('DOMContentLoaded', function() {
        fetchSubmissionCount();
    });

    // ==========================================
    // FORM SUBMISSION HANDLER
    // ==========================================
    function handleInnovationSubmit(e) {
        e.preventDefault();
        var submitBtn = document.getElementById('innovationSubmitBtn');
        submitBtn.disabled = true;
        submitBtn.classList.add('btn-loading');
        submitBtn.textContent = '\ud83d\udce4 Submitting...';

        var formData = new FormData();
        formData.append('full_name', document.getElementById('contactFullName').value.trim());
        formData.append('phone', document.getElementById('contactPhone').value.trim());
        formData.append('email', document.getElementById('contactEmail').value.trim());
        formData.append('location', document.getElementById('contactLocation').value.trim());
        formData.append('description', document.getElementById('contactDescription').value.trim());

        var format = document.querySelector('input[name="innovation_format"]:checked').value;
        formData.append('innovation_format', format);

        if (format === 'text') {
            var innovDesc = document.getElementById('innovationDescription').value.trim();
            if (innovDesc) formData.append('innovation_description', innovDesc);
        }

        var videoFile = document.getElementById('innovationVideo').files[0];
        if (videoFile) formData.append('innovation_video', videoFile);

        var audioFile = document.getElementById('innovationAudio').files[0];
        if (audioFile) formData.append('innovation_audio', audioFile);

        var imageFiles = document.getElementById('innovationImages').files;
        for (var i = 0; i < imageFiles.length; i++) {
            formData.append('innovation_images', imageFiles[i]);
        }

        if (recordedBlob) {
            formData.append('recorded_media', recordedBlob, 'recording.webm');
            formData.append('recorded_type', recordingType);
        }

        fetch('/api/contact', {
            method: 'POST',
            body: formData
        })
        .then(function(response) { return response.json(); })
        .then(function(result) {
            submitBtn.disabled = false;
            submitBtn.classList.remove('btn-loading');
            submitBtn.textContent = '\ud83d\udce4 Submit Message / Idea';

            if (result.success) {
                document.getElementById('innovationForm').style.display = 'none';
                document.getElementById('innovationSuccess').style.display = 'block';
                showNotification('Your innovation has been submitted successfully!', 'success');
                submissionCountValue = submissionCountValue + 1;
                document.getElementById('submissionCount').textContent = submissionCountValue.toLocaleString();
                showPlusOneAnimation();
            } else {
                showNotification(result.message || 'Submission failed. Please try again.', 'error');
            }
        })
        .catch(function(error) {
            console.error('Error:', error);
            submitBtn.disabled = false;
            submitBtn.classList.remove('btn-loading');
            submitBtn.textContent = '\ud83d\udce4 Submit Message / Idea';
            showNotification('An error occurred. Please try again.', 'error');
        });
    }

    function resetInnovationForm() {
        document.getElementById('innovationForm').style.display = 'block';
        document.getElementById('innovationSuccess').style.display = 'none';
        document.getElementById('innovationForm').reset();
        document.querySelectorAll('.file-preview').forEach(function(p) { p.innerHTML = ''; });
        document.querySelectorAll('.record-preview').forEach(function(p) { p.innerHTML = ''; });
        toggleInnovationFormat('text');
        document.querySelector('input[name="innovation_format"][value="text"]').checked = true;
        clearRecording();
    }

    // Notification Toast System
    let notifTimeout = null;
    function showNotification(message, type) {
        // type: 'success', 'error', 'info' (default: 'info')
        if (!type) {
            // Auto-detect type from message content
            const lowerMsg = message.toLowerCase();
            if (lowerMsg.includes('success') || lowerMsg.includes('verified') || lowerMsg.includes('welcome') || lowerMsg.includes('sent successfully') || lowerMsg.includes('created')) {
                type = 'success';
            } else if (lowerMsg.includes('error') || lowerMsg.includes('fail') || lowerMsg.includes('invalid') || lowerMsg.includes('expired') || lowerMsg.includes('already') || lowerMsg.includes('required') || lowerMsg.includes('please') || lowerMsg.includes('wait') || lowerMsg.includes('too many')) {
                type = 'error';
            } else {
                type = 'info';
            }
        }

        const notification = document.getElementById('notification');
        const iconEl = notification.querySelector('.notif-icon');
        const textEl = notification.querySelector('.notif-text');

        // Set icon based on type
        const icons = { success: 'âœ…', error: 'âŒ', info: 'â„¹ï¸' };
        iconEl.textContent = icons[type] || icons.info;
        textEl.textContent = message;

        // Remove old classes
        notification.classList.remove('active', 'success', 'error', 'info', 'fade-out');
        notification.classList.add('active', type);

        // Clear previous timeout
        if (notifTimeout) clearTimeout(notifTimeout);

        // Auto dismiss
        notifTimeout = setTimeout(() => {
            notification.classList.add('fade-out');
            setTimeout(() => {
                notification.classList.remove('active', 'success', 'error', 'info', 'fade-out');
            }, 300);
        }, 4500);
    }

    function dismissNotification() {
        const notification = document.getElementById('notification');
        notification.classList.add('fade-out');
        setTimeout(() => {
            notification.classList.remove('active', 'success', 'error', 'info', 'fade-out');
        }, 300);
        if (notifTimeout) clearTimeout(notifTimeout);
    }

    // Smooth scroll handled by the enhanced version below

    // Chat input enter key
    document.getElementById('chatInput').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });

    // Close modals on outside click
    window.addEventListener('click', function(e) {
        const authModal = document.getElementById('authModal');
        const videoModal = document.getElementById('videoModal');
        const registrationModal = document.getElementById('registrationModal');

        if (e.target === authModal) {
            closeAuthModal();
        }
        if (e.target === videoModal) {
            closeVideoDemo();
        }
        if (e.target === registrationModal) {
            closeRegistrationModal();
        }
    });

    // Initialize - ensure all sections are visible for scrolling
    window.addEventListener('load', function() {
        // Check if user is already logged in (session check)
        fetch('/api/user')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                // User is logged in, redirect to dashboard
                window.location.href = '/dashboard';
            }
        })
        .catch(() => {
            // User not logged in, stay on index page
        });
        // All sections are visible by default, no need to hide them
        // Smooth scroll behavior is handled by CSS and the showSection function
    });

    // Smooth header scroll effect
    window.addEventListener('scroll', () => {
        const header = document.querySelector('header');
        if (window.scrollY > 50) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });

    // Get Started button - Open Welcome Modal with Register/Login options
    document.getElementById('get-started-btn').addEventListener('click', (e) => {
        e.preventDefault();
        openAuthModal();
    });

    // Demo button
    document.getElementById('demo-btn').addEventListener('click', (e) => {
        e.preventDefault();
        openVideoDemo();
    });

    // Enhanced smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (href !== '#' && href.length > 1) {
                e.preventDefault();
                const target = document.querySelector(href);
                if (target) {
                    const headerOffset = 80;
                    const elementPosition = target.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                    window.scrollTo({
                        top: offsetPosition,
                        behavior: 'smooth'
                    });
                }
            }
        });
    });

    // ===== Language switching using Google Translate =====
    function setGoogleTranslateCookie(lang) {
        var value = '/auto/' + lang;
        document.cookie = 'googtrans=' + value + ';path=/';
        document.cookie = 'googtrans=' + value + ';domain=' + window.location.hostname + ';path=/';
    }

    function getGoogleTranslateLanguage() {
        var match = document.cookie.match(/googtrans=\/auto\/([^;]+)/);
        return match ? match[1] : 'en';
    }

    function handleLanguageChange(lang) {
        if (!lang) lang = 'en';
        setGoogleTranslateCookie(lang);
        // Sync all language selects on the page
        var selects = document.querySelectorAll('.language-select');
        selects.forEach(function(sel) { sel.value = lang; });
        // Reload so Google Translate applies language
        window.location.reload();
    }

    // ===== ENHANCED: Clean up unwanted symbols and emojis inserted by Google Translate =====
    function cleanTranslateSymbols() {
        // Function to check if element should be skipped
        function shouldSkip(node) {
            if (!node) return true;
            var element = node.nodeType === Node.ELEMENT_NODE ? node : node.parentElement;
            if (!element) return false;
            
            // Skip if has notranslate class
            if (element.classList && element.classList.contains('notranslate')) {
                return true;
            }
            
            // Skip if parent has notranslate class
            var parent = element.parentElement;
            var depth = 0;
            while (parent && depth < 10) {
                if (parent.classList && parent.classList.contains('notranslate')) {
                    return true;
                }
                parent = parent.parentElement;
                depth++;
            }
            
            // Skip Google Translate elements
            if (element.id && (element.id.includes('google_translate') || element.id.includes('goog'))) {
                return true;
            }
            
            return false;
        }

        // Function to clean text content
        function cleanText(node) {
            if (shouldSkip(node)) {
                return;
            }

            if (node.nodeType === Node.TEXT_NODE) {
                var text = node.textContent;
                if (!text || text.trim().length === 0) return;
                
                var originalText = text;
                var cleaned = text;
                
                // Remove unwanted symbols (âž•, ðŸ™ï¸, etc.)
                cleaned = cleaned.replace(/âž•/g, '');
                cleaned = cleaned.replace(/ðŸ™ï¸/g, '');
                cleaned = cleaned.replace(/ðŸŒ/g, '');
                cleaned = cleaned.replace(/\?\?/g, '');
                cleaned = cleaned.replace(/â“/g, '');
                cleaned = cleaned.replace(/â”/g, '');
                
                // Fix incorrect patterns: âž• âž• à®¤à®®à®¿à®´à¯ -> à®¤à®®à®¿à®´à¯
                cleaned = cleaned.replace(/âž•\s*âž•\s*à®¤à®®à®¿à®´à¯/gi, 'à®¤à®®à®¿à®´à¯');
                cleaned = cleaned.replace(/âž•\s*à®¤à®®à®¿à®´à¯/gi, 'à®¤à®®à®¿à®´à¯');
                cleaned = cleaned.replace(/ðŸ™ï¸\s*ðŸ™ï¸\s*à°¤à±†à°²à±à°—à±/gi, 'à°¤à±†à°²à±à°—à±');
                cleaned = cleaned.replace(/ðŸ™ï¸\s*à°¤à±†à°²à±à°—à±/gi, 'à°¤à±†à°²à±à°—à±');
                
                // Remove globe emoji before language names
                cleaned = cleaned.replace(/ðŸŒ\s*(à®¤à®®à®¿à®´à¯|à°¤à±†à°²à±à°—à±|à¤¹à¤¿à¤‚à¤¦à¥€)/gi, '$1');
                
                // Remove duplicate language names
                cleaned = cleaned.replace(/(à®¤à®®à®¿à®´à¯|à°¤à±†à°²à±à°—à±|à¤¹à¤¿à¤‚à¤¦à¥€)\s+\1+/gi, '$1');
                
                // Remove duplicate emojis/symbols (any combination)
                cleaned = cleaned.replace(/([âž•ðŸ™ï¸ðŸŒ])\s*\1+/g, '');
                
                // Remove leading/trailing symbols before/after language names
                cleaned = cleaned.replace(/^[âž•ðŸ™ï¸ðŸŒ\s]+(à®¤à®®à®¿à®´à¯|à°¤à±†à°²à±à°—à±|à¤¹à¤¿à¤‚à¤¦à¥€)/gi, '$1');
                cleaned = cleaned.replace(/(à®¤à®®à®¿à®´à¯|à°¤à±†à°²à±à°—à±|à¤¹à¤¿à¤‚à¤¦à¥€)[âž•ðŸ™ï¸ðŸŒ\s]+$/gi, '$1');
                
                // Remove multiple consecutive spaces
                cleaned = cleaned.replace(/\s{2,}/g, ' ');
                
                // Remove standalone unwanted symbols (only symbols, no text)
                cleaned = cleaned.replace(/^[âž•ðŸ™ï¸ðŸŒ\s]+$/g, '');
                
                // Trim whitespace
                cleaned = cleaned.trim();
                
                // Only update if text changed and cleaned text is not empty
                if (cleaned !== originalText && cleaned.length > 0) {
                    node.textContent = cleaned;
                } else if (cleaned.length === 0 && originalText.trim().length > 0) {
                    // If we removed everything but original had content, check if it was meaningful
                    if (originalText.match(/[a-zA-Z0-9\u0B80-\u0BFF\u0C00-\u0C7F\u0900-\u097F]/)) {
                        // Restore original if it had actual text content
                        node.textContent = originalText;
                    }
                }
            } else if (node.nodeType === Node.ELEMENT_NODE) {
                // Skip elements with notranslate class
                if (node.classList && node.classList.contains('notranslate')) {
                    return;
                }
                
                // Skip Google Translate elements
                if (node.id && (node.id.includes('google_translate') || node.id.includes('goog'))) {
                    return;
                }
                
                // Clean child nodes recursively
                var children = Array.from(node.childNodes);
                children.forEach(function(child) {
                    cleanText(child);
                });
            }
        }

        // Clean all text nodes in the document (except protected elements)
        try {
            var walker = document.createTreeWalker(
                document.body,
                NodeFilter.SHOW_TEXT,
                {
                    acceptNode: function(node) {
                        if (shouldSkip(node)) {
                            return NodeFilter.FILTER_REJECT;
                        }
                        return NodeFilter.FILTER_ACCEPT;
                    }
                }
            );

            var nodesToClean = [];
            var node;
            while (node = walker.nextNode()) {
                if (node.nodeType === Node.TEXT_NODE && !shouldSkip(node)) {
                    nodesToClean.push(node);
                }
            }

            nodesToClean.forEach(function(node) {
                cleanText(node);
            });
        } catch (e) {
            console.warn('Error cleaning translate symbols:', e);
        }
    }

    // ===== ENHANCED MutationObserver to monitor DOM changes and clean symbols =====
    var translateCleanerInitialized = false;
    function setupTranslateCleaner() {
        if (translateCleanerInitialized) return;
        translateCleanerInitialized = true;
        var cleaningInProgress = false;
        var lastCleanTime = 0;
        var CLEAN_THROTTLE = 200; // Minimum time between cleans (ms)
        
        var observer = new MutationObserver(function(mutations) {
            if (cleaningInProgress) return;
            
            var now = Date.now();
            if (now - lastCleanTime < CLEAN_THROTTLE) return;
            
            var shouldClean = false;
            
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList' || mutation.type === 'characterData') {
                    var target = mutation.target;
                    
                    // Skip if target or parent has notranslate class
                    if (target && target.classList && target.classList.contains('notranslate')) {
                        return;
                    }
                    if (target && target.parentElement && target.parentElement.classList && target.parentElement.classList.contains('notranslate')) {
                        return;
                    }
                    
                    // Skip Google Translate elements
                    if (target && target.id && (target.id.includes('google_translate') || target.id.includes('goog'))) {
                        return;
                    }
                    
                    // Check if the change contains unwanted symbols or incorrect patterns
                    var text = target.textContent || '';
                    if (/âž•|ðŸ™ï¸|\?\?|âž•\s*à®¤à®®à®¿à®´à¯|ðŸ™ï¸\s*à°¤à±†à°²à±à°—à±|ðŸŒ/.test(text)) {
                        shouldClean = true;
                    }
                }
            });
            
            if (shouldClean) {
                cleaningInProgress = true;
                lastCleanTime = now;
                setTimeout(function() {
                    cleanTranslateSymbols();
                    cleaningInProgress = false;
                }, 100);
            }
        });

        // Start observing with comprehensive filtering
        try {
            observer.observe(document.body, {
                childList: true,
                subtree: true,
                characterData: true,
                attributes: false
            });
        } catch (e) {
            console.warn('Error setting up translate cleaner observer:', e);
        }

        // Initial clean after page load
        setTimeout(function() {
            cleanTranslateSymbols();
        }, 500);
        
        // Clean after Google Translate loads
        setTimeout(function() {
            cleanTranslateSymbols();
        }, 2000);
        
        // Clean after Google Translate processes content
        setTimeout(function() {
            cleanTranslateSymbols();
        }, 4000);
        
        // Periodic cleanup (every 3 seconds)
        setInterval(function() {
            if (!cleaningInProgress) {
                cleanTranslateSymbols();
            }
        }, 3000);
    }

    document.addEventListener('DOMContentLoaded', function() {
        var currentLang = getGoogleTranslateLanguage();
        var selects = document.querySelectorAll('.language-select');
        selects.forEach(function(sel) {
            if (currentLang) {
                sel.value = currentLang;
            }
        });
        
        // Setup translate cleaner
        setupTranslateCleaner();
    });

    function googleTranslateElementInit() {
        try {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'en,hi,ta,te',
                autoDisplay: false,
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
            
            // Clean symbols after Google Translate initializes
            setTimeout(function() {
                cleanTranslateSymbols();
                setupTranslateCleaner();
            }, 1000);
            
            // Additional cleanup after translation
            setTimeout(function() {
                cleanTranslateSymbols();
            }, 3000);
        } catch (e) {
            console.warn('Error initializing Google Translate:', e);
        }
    }
</script>

<!-- Hidden container for Google Translate widget -->
<div id="google_translate_element" style="display:none;"></div>
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>
</html>    